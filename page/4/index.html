<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"naoemb.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="naoemb">
<meta property="og:url" content="https://naoemb.github.io/page/4/index.html">
<meta property="og:site_name" content="naoemb">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="naoemb">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://naoemb.github.io/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>naoemb</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">naoemb</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>主页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">10</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">65</span></a>

  </li>
        <li class="menu-item menu-item-笔记">

    <a href="/%E7%AC%94%E8%AE%B0" rel="section"><i class="fa fa-sticky-note fa-fw"></i>笔记</a>

  </li>
        <li class="menu-item menu-item-c练习题">

    <a href="/C%E7%BB%83%E4%B9%A0%E9%A2%98/" rel="section"><i class="fa fa-code fa-fw"></i>C练习题</a>

  </li>
        <li class="menu-item menu-item-unix">

    <a href="/UNIX/" rel="section"><i class="fa fa-file-code-o fa-fw"></i>UNIX</a>

  </li>
        <li class="menu-item menu-item-每天英语">

    <a href="/%E6%AF%8F%E5%A4%A9%E8%8B%B1%E8%AF%AD" rel="section"><i class=" fa-fw"></i>每天英语</a>

  </li>
        <li class="menu-item menu-item-musiclist">

    <a href="/musiclist/" rel="section"><i class="fa fa-volume-up fa-fw"></i>歌单</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://naoemb.github.io/2023/02/16/embsky/04ds/04ds_09day/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="naoemb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="naoemb">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/16/embsky/04ds/04ds_09day/" class="post-title-link" itemprop="url">04ds_09day</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-16 08:03:05" itemprop="dateCreated datePublished" datetime="2023-02-16T08:03:05+08:00">2023-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-02-08 09:37:53" itemprop="dateModified" datetime="2023-02-08T09:37:53+08:00">2023-02-08</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>2022-8-11<br>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<h1 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h1><pre><code>一.温故知新
    内核链表

链表的排序
1.交换链表中数据结点的数据
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> val;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">	p-&gt;val &gt; p-&gt;next-&gt;val</span><br><span class="line">	tmp = p-&gt;val;</span><br><span class="line">	p-&gt;val = p-&gt;next-&gt;val;</span><br><span class="line">	p-&gt;next-&gt;val = tmp;</span><br></pre></td></tr></table></figure>

2.交换链表的结点
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> llist_node *<span class="title function_">pop_sort</span><span class="params">(<span class="keyword">struct</span> llist_node *l)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">newl</span> =</span> <span class="literal">NULL</span>;<span class="comment">//头结点</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">p</span> =</span> <span class="literal">NULL</span>;<span class="comment">//标记交换之前的结点</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">q</span> =</span> <span class="literal">NULL</span>;<span class="comment">//标记交换的结点</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">tail</span> =</span> <span class="literal">NULL</span>;<span class="comment">//标记最值的位置</span></span><br><span class="line"></span><br><span class="line">	newl = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> llist_node));<span class="comment">//创建头</span></span><br><span class="line"></span><br><span class="line">	newl-&gt;next = l;<span class="comment">//把新创建出的头结点拼到无头链表上</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(newl-&gt;next-&gt;next != tail)</span><br><span class="line">	&#123;</span><br><span class="line">		p = newl;<span class="comment">//标记新的位置</span></span><br><span class="line">		q = newl-&gt;next;<span class="comment">//标记新的位置</span></span><br><span class="line">		<span class="keyword">while</span>(q-&gt;next != tail)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>(q-&gt;val &gt; q-&gt;next-&gt;val)</span><br><span class="line">			&#123;</span><br><span class="line">				p-&gt;next = q-&gt;next;</span><br><span class="line">				q-&gt;next = q-&gt;next-&gt;next;</span><br><span class="line">				p-&gt;next-&gt;next = q;</span><br><span class="line">				q = p-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			p = p-&gt;next;</span><br><span class="line">			q = q-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		tail = q;</span><br><span class="line">	&#125;</span><br><span class="line">	l = newl-&gt;next;</span><br><span class="line">	<span class="built_in">free</span>(newl);<span class="comment">//销毁头</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> l;<span class="comment">//返回无头链表的新的位置</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h1 id="二叉树画图"><a href="#二叉树画图" class="headerlink" title="二叉树画图"></a>二叉树画图</h1><h2 id="遍历方法"><a href="#遍历方法" class="headerlink" title="遍历方法"></a>遍历方法</h2><pre><code>先序(根左右)遍历
中序(左根右)遍历
后序(左右根)遍历
</code></pre>
<h2 id="遍历练习"><a href="#遍历练习" class="headerlink" title="遍历练习"></a>遍历练习</h2><pre><code>(1)
    先序遍历:ABDHJKECFGILM
    中序遍历:DJHKBEAFCLIMG
</code></pre>
<p><img src="/images/04ds/09day/02tree.png"></p>
<pre><code>(2)
    中序遍历:DHFBACGE
    后序遍历:HFDBGECA
</code></pre>
<p><img src="/images/04ds/09day/03tree.png"></p>
<pre><code>(3)
    中序遍历:DJGBHEAFIC
    后序遍历:JGDHEBIFCA
</code></pre>
<p><img src="/images/04ds/09day/04tree.png"></p>
<pre><code>(4)
    先序遍历:ABCDEFGHIJ
    中序遍历:CBEDAGHFJI
</code></pre>
 
<pre><code>(5)
    先序遍历:1 2 3 7 6 5 4 9 8
    中序遍历:1 2 3 4 5 6 7 8 9
</code></pre>
<p><img src="/images/04ds/09day/05tree.png"></p>
<h1 id="使用二叉链表的方法实现二叉树"><a href="#使用二叉链表的方法实现二叉树" class="headerlink" title="使用二叉链表的方法实现二叉树"></a>使用二叉链表的方法实现二叉树</h1><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	使用二叉链表的方法实现二叉树</span></span><br><span class="line"><span class="comment">	树中的结点 = [数据域] + [指向左子树的指针] +</span></span><br><span class="line"><span class="comment">					[指向右子树的指针]</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span>//定义数据的结构体</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span> name[<span class="number">20</span>];</span><br><span class="line">	<span class="type">int</span> math;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tree_node</span>//定义树中结点的结构体</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">data</span>;</span><span class="comment">//数据域</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">tree_node</span> *<span class="title">l</span>;</span><span class="comment">//指向左子树的指针</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">tree_node</span> *<span class="title">r</span>;</span><span class="comment">//指向右子树的指针</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tree_node</span> *<span class="title">tree</span> =</span> <span class="literal">NULL</span>;<span class="comment">//指向树的根</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">tree_insert</span><span class="params">(<span class="keyword">struct</span> tree_node **root, <span class="keyword">struct</span> stu data)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(*root == <span class="literal">NULL</span>)<span class="comment">//判断是否为空树</span></span><br><span class="line">	&#123;</span><br><span class="line">		*root = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> tree_node));</span><br><span class="line">		<span class="keyword">if</span>(*root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		(*root)-&gt;data = data;</span><br><span class="line">		(*root)-&gt;l = <span class="literal">NULL</span>;</span><br><span class="line">		(*root)-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>((*root)-&gt;data.id &gt; data.id)</span><br><span class="line">		tree_insert(&amp;(*root)-&gt;l, data);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		tree_insert(&amp;(*root)-&gt;r, data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="keyword">struct</span> stu data)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d	%s	%d\n&quot;</span>, data.id, data.name, data.math);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">tree_display</span><span class="params">(<span class="keyword">struct</span> tree_node *tree)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(tree == <span class="literal">NULL</span>)<span class="comment">//判断是否是空树</span></span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	tree_display(tree-&gt;l);</span><br><span class="line">	tree_display(tree-&gt;r);</span><br><span class="line">	print(tree-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">tree_destroy</span><span class="params">(<span class="keyword">struct</span> tree_node *tree)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(tree == <span class="literal">NULL</span>)<span class="comment">//判断是否是空树</span></span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	tree_destroy(tree-&gt;l);</span><br><span class="line">	tree_destroy(tree-&gt;r);</span><br><span class="line">	<span class="built_in">free</span>(tree);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> stu *<span class="title function_">tree_find</span><span class="params">(<span class="keyword">struct</span> tree_node *root, <span class="type">int</span> find_id)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(root == <span class="literal">NULL</span>)<span class="comment">//判断是否是空树</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">if</span>(root-&gt;data.id == find_id)</span><br><span class="line">		<span class="keyword">return</span> &amp;root-&gt;data;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(root-&gt;data.id &gt; find_id)</span><br><span class="line">		tree_find(root-&gt;l, find_id);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		tree_find(root-&gt;r, find_id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> tree_node *<span class="title function_">find_max</span><span class="params">(<span class="keyword">struct</span> tree_node *root)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(root == <span class="literal">NULL</span>)<span class="comment">//判断是否是空树</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">if</span>(root-&gt;r == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> root;</span><br><span class="line">	find_max(root-&gt;r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> tree_node *<span class="title function_">find_min</span><span class="params">(<span class="keyword">struct</span> tree_node *root)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(root == <span class="literal">NULL</span>)<span class="comment">//判断是否是空树</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">if</span>(root-&gt;l == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> root;</span><br><span class="line">	find_min(root-&gt;l);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">tree_delete</span><span class="params">(<span class="keyword">struct</span> tree_node **root, <span class="type">int</span> find_id)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">tree_node</span> **<span class="title">node</span> =</span> root;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">tree_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;<span class="comment">//标记要删除的结点</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(*node != <span class="literal">NULL</span> &amp;&amp; (*node)-&gt;data.id != find_id)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>((*node)-&gt;data.id &gt; find_id)</span><br><span class="line">			node = &amp;(*node)-&gt;l;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			node = &amp;(*node)-&gt;r;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(*node == <span class="literal">NULL</span>)<span class="comment">//没有找到要删除的结点</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	cur = *node;<span class="comment">//标记删除的位置</span></span><br><span class="line">	<span class="keyword">if</span>(cur-&gt;l == <span class="literal">NULL</span>)<span class="comment">//判断要删除的结点是否没有左子树</span></span><br><span class="line">		*node = cur-&gt;r;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		*node = cur-&gt;l;<span class="comment">//让左子树往上顶</span></span><br><span class="line">		find_max(cur-&gt;l)-&gt;r = cur-&gt;r;</span><br><span class="line">		<span class="comment">//把右子树挂到左子树的最大结点的右边</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> buf[] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">8</span>&#125;;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">data</span>;</span><span class="comment">//存储数据</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">datap</span> =</span> <span class="literal">NULL</span>;<span class="comment">//指向找到的数据</span></span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> find_id = <span class="number">15</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="keyword">sizeof</span>(buf) / <span class="keyword">sizeof</span>(*buf); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		data.id = buf[i];</span><br><span class="line">		<span class="built_in">sprintf</span>(data.name, <span class="string">&quot;stu%d&quot;</span>, buf[i]);</span><br><span class="line">		data.math = <span class="number">100</span> - buf[i];</span><br><span class="line">		tree_insert(&amp;tree, data);<span class="comment">//插入数据结点</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	tree_display(tree);<span class="comment">//遍历树</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;------------------------\n&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line">	datap = tree_find(tree, find_id);</span><br><span class="line">	<span class="keyword">if</span>(datap == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Not Find It!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Find It!\n&quot;</span>);</span><br><span class="line">		print(*datap);</span><br><span class="line">	&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	ret = tree_delete(&amp;tree, <span class="number">7</span>);</span><br><span class="line">	<span class="keyword">if</span>(ret == <span class="number">-1</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It!\n&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;------------------------\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	tree_display(tree);<span class="comment">//遍历树</span></span><br><span class="line">	</span><br><span class="line">	tree_destroy(tree);<span class="comment">//销毁树</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://naoemb.github.io/2023/02/16/embsky/04ds/04ds_06day/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="naoemb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="naoemb">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/16/embsky/04ds/04ds_06day/" class="post-title-link" itemprop="url">04ds_06day</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-16 08:03:05" itemprop="dateCreated datePublished" datetime="2023-02-16T08:03:05+08:00">2023-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-09-02 01:53:29" itemprop="dateModified" datetime="2022-09-02T01:53:29+08:00">2022-09-02</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>12k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>10 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>2022-8-8<br>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<h1 id="note"><a href="#note" class="headerlink" title="note"></a>note</h1><pre><code>一.温故知新
线性表
        是n个具有相同类型的数据元素的集合
        线性表是一种使用比较广泛的数据结构
        线性表在逻辑上是线性的结构,也就相当于是一条直线
        但是在物理结构上并不一定是连续的
        线性表在物理存储时,通常以数组或者链表的形式存储
    顺序表
        是用一段连续的存储空间依次存储数据元素的线性结构
        一般情况下使用的就是数组,在数组中做增删改查的操作
        定长的顺序表 : 使用定长的数组
            适用于确定成员个数的场景
        不定长的顺序表 : 使用动态开辟的数组
            可以根据需求灵活开辟空间
    链表
        在逻辑结构上是线性的存储,
        但是在物理结构体并不是连续的存储结构
        链表中数据的顺序根据链表中结点的指针的指向来确定
顺序表的优缺点
    优点 : 使用的是连续的存储空间
            可以使用下标快速定位到某个成员
    缺点 : 定长的顺序表定义之后不能再扩容
            插入新的成员以及删除成员,需要挪动后续所有成员
链表的优缺点
    优点 : 插入新的成员和删除成员方便,不会造成空间的浪费
    缺点 : 访问链表的成员不方便

总结 : 顺序表和链表是相辅相成的,需要在适合的场景下使用
如果写项目工程使用有头双向循环链表合适
如果在笔试面试中碰到链表的题目,一般来说考无头单向链表
===================================
早测
1.移出链表元素
给你一个无头单向不循环链表的首结点l和一个整数 val 
请你删除链表中所有等于 val 的节点，并返回新的首结点 。
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> val;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> llist_node* <span class="title function_">remove</span><span class="params">(<span class="keyword">struct</span> llist_node* l, <span class="type">int</span> val)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> l;<span class="comment">//指向要删除的结点</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">back</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line">	<span class="comment">//指向要删除的结点的前一个位置</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(cur != <span class="literal">NULL</span>)<span class="comment">//判断是否遍历完所有的结点</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(cur-&gt;val == val)<span class="comment">//判断是否是要删除的数据</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>(back == <span class="literal">NULL</span>)<span class="comment">//判断删除的是否是第一个结点</span></span><br><span class="line">			&#123;</span><br><span class="line">				l = l-&gt;next;<span class="comment">//改变l的位置</span></span><br><span class="line">				<span class="built_in">free</span>(cur);<span class="comment">//释放第一个结点</span></span><br><span class="line">				cur = l;<span class="comment">//改变cur的位置</span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				back-&gt;next = cur-&gt;next;</span><br><span class="line">				<span class="built_in">free</span>(cur);</span><br><span class="line">				cur = back-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			back = cur;</span><br><span class="line">			cur = cur-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> l; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
===================================

线性表
    两种特殊的线性存储结构(受限制的存储形式)
    栈式存储结构
        一定要和内存中的栈区区分开
        stack
        特点 : 先进后出
        可以把栈式存储结构抽象成有底的容器
        把数据存储到栈式存储结构中	入栈|进栈|压栈|push
        从栈式存储结构中取出数据	出栈|退栈|弹栈|pop
        存入数据或者取出数据的一端	栈顶|ind
        另外一端					栈底
    由于栈式存储结构属于线性表中特殊的存储形式
    所以既可以用顺序表来实现,也可以用链表来实现
        入栈时需要判断,栈是否满了
        出栈时需要判断,栈是否空了

    队列式存储结构

=================================
作业
1.把今天讲过的内容完完整整的复习一遍
2.把栈式存储结构(三种方式)再重新实现一遍
3.把早测的功能函数再重新实现一遍
=================================
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">l</span><br><span class="line">|</span><br><span class="line">V</span><br><span class="line"><span class="number">11</span>-&gt;<span class="number">22</span>-&gt;<span class="number">11</span>-&gt;<span class="number">33</span>-&gt;<span class="number">11</span>-&gt;<span class="number">44</span>-&gt;<span class="number">11</span>-&gt;<span class="literal">NULL</span></span><br><span class="line"></span><br><span class="line"><span class="number">11</span></span><br></pre></td></tr></table></figure>
</code></pre>
<h1 id="数组栈"><a href="#数组栈" class="headerlink" title="数组栈"></a>数组栈</h1><h2 id="main-c"><a href="#main-c" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;stack.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> data[] = &#123;<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">55</span>,<span class="number">66</span>,<span class="number">77</span>,<span class="number">88</span>,<span class="number">99</span>&#125;;<span class="comment">//数据</span></span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//循环变量</span></span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;<span class="comment">//用来接收返回值</span></span><br><span class="line">	<span class="type">int</span> save = <span class="number">0</span>;<span class="comment">//用来保存出栈的数据</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="keyword">sizeof</span>(data) / <span class="keyword">sizeof</span>(*data); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		ret = stack_push(data[i]);<span class="comment">//入栈	</span></span><br><span class="line">		<span class="keyword">if</span>(ret == <span class="number">-1</span>)<span class="comment">//判断是否栈满</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;Stack Is Full!\n&quot;</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	stack_display();<span class="comment">//遍历栈</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;*******************\n&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	ret = stack_pop(&amp;save);<span class="comment">//出栈</span></span><br><span class="line">	<span class="keyword">if</span>(ret == <span class="number">-1</span>)<span class="comment">//判断栈是否为空</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Stack Is Empty!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Save = %d\n&quot;</span>, save);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;*******************\n&quot;</span>);</span><br><span class="line">	stack_display();<span class="comment">//遍历栈</span></span><br><span class="line"></span><br><span class="line">	stack_push(<span class="number">999</span>);</span><br><span class="line">	stack_display();<span class="comment">//遍历栈</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="stack-h"><a href="#stack-h" class="headerlink" title="stack.h"></a>stack.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __STACK_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __STACK_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STACKSIZE 6</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> stack_arr[STACKSIZE];<span class="comment">//栈</span></span><br><span class="line"><span class="type">int</span> stack_ind;<span class="comment">//栈顶元素</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">stack_push</span><span class="params">(<span class="type">int</span> data)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">stack_pop</span><span class="params">(<span class="type">int</span> *save)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">stack_display</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="stack-c"><a href="#stack-c" class="headerlink" title="stack.c"></a>stack.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;stack.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">isfull</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> !(stack_ind - STACKSIZE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">isempty</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> !(stack_ind);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">stack_push</span><span class="params">(<span class="type">int</span> data)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(isfull())<span class="comment">//判断是否栈满了</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	stack_arr[stack_ind++] = data;<span class="comment">//入栈</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">stack_pop</span><span class="params">(<span class="type">int</span> *save)</span><span class="comment">//出栈</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(isempty())<span class="comment">//判断栈是否为空</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	*save = stack_arr[--stack_ind];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">stack_display</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i = stack_ind;<span class="comment">//循环变量</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(i--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;	%d\n&quot;</span>, stack_arr[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;===================\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="makefile"><a href="#makefile" class="headerlink" title="makefile"></a>makefile</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">stack</span> : main.o <span class="built_in">stack</span>.o</span><br><span class="line">	gcc -o $@ $^</span><br><span class="line">clean :</span><br><span class="line">	rm -rf *.o <span class="built_in">stack</span></span><br></pre></td></tr></table></figure>
</code></pre>
<h1 id="指针栈"><a href="#指针栈" class="headerlink" title="指针栈"></a>指针栈</h1><h2 id="main-c-1"><a href="#main-c-1" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;stack.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	STACK *s = <span class="literal">NULL</span>;<span class="comment">//s指针指向栈</span></span><br><span class="line">	<span class="type">int</span> data[] = &#123;<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">55</span>,<span class="number">66</span>,<span class="number">77</span>,<span class="number">88</span>,<span class="number">99</span>&#125;;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//循环变量</span></span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;<span class="comment">//用于接收返回值的变量</span></span><br><span class="line">	<span class="type">int</span> save = <span class="number">0</span>;<span class="comment">//用于接收出栈的数据</span></span><br><span class="line"></span><br><span class="line">	s = stack_create();<span class="comment">//开辟栈式存储结构的空间</span></span><br><span class="line">	<span class="keyword">if</span>(s == <span class="literal">NULL</span>)<span class="comment">//判断是否开辟空间失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//开辟失败,结束程序,并且返回-1</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="keyword">sizeof</span>(data) / <span class="keyword">sizeof</span>(*data); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		ret = stack_push(s, data[i]);<span class="comment">//入栈</span></span><br><span class="line">		<span class="keyword">if</span>(ret == <span class="number">-1</span>)<span class="comment">//判断栈是否满了</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;Stack Is Full!\n&quot;</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	stack_display(s);<span class="comment">//遍历栈</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;*******************\n&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	ret = stack_pop(s, &amp;save);</span><br><span class="line">	<span class="keyword">if</span>(ret == <span class="number">-1</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Stack Is Empty!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Save = %d\n&quot;</span>, save);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;*******************\n&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	stack_display(s);<span class="comment">//遍历栈</span></span><br><span class="line">	</span><br><span class="line">	stack_push(s, <span class="number">999</span>);</span><br><span class="line">	</span><br><span class="line">	stack_display(s);<span class="comment">//遍历栈</span></span><br><span class="line"></span><br><span class="line">	stack_destroy(s);<span class="comment">//销毁栈</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="stack-h-1"><a href="#stack-h-1" class="headerlink" title="stack.h"></a>stack.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __STACK_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __STACK_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STACKSIZE 6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> stack_buf[STACKSIZE];</span><br><span class="line">	<span class="type">int</span> stack_ind;</span><br><span class="line">&#125;STACK;</span><br><span class="line"></span><br><span class="line">STACK *<span class="title function_">stack_create</span><span class="params">()</span>;<span class="comment">//创建栈</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">stack_push</span><span class="params">(STACK *s, <span class="type">int</span> data)</span>;<span class="comment">//入栈</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">stack_pop</span><span class="params">(STACK *s, <span class="type">int</span> *save)</span>;<span class="comment">//出栈</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">stack_display</span><span class="params">(STACK *s)</span>;<span class="comment">//遍历栈</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">stack_destroy</span><span class="params">(STACK *s)</span>;<span class="comment">//销毁栈</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="stack-c-1"><a href="#stack-c-1" class="headerlink" title="stack.c"></a>stack.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;stack.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">STACK *<span class="title function_">stack_create</span><span class="params">()</span><span class="comment">//创建栈</span></span><br><span class="line">&#123;</span><br><span class="line">	STACK *s = <span class="literal">NULL</span>;<span class="comment">//s指针指向开辟的空间</span></span><br><span class="line"></span><br><span class="line">	s = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(STACK));<span class="comment">//开辟空间</span></span><br><span class="line">	<span class="keyword">if</span>(s == <span class="literal">NULL</span>)<span class="comment">//判断是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">	s-&gt;stack_ind = <span class="number">0</span>;<span class="comment">//把栈顶元素先清零</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">isfull</span><span class="params">(STACK *s)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> !(s-&gt;stack_ind - STACKSIZE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">isempty</span><span class="params">(STACK *s)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> !(s-&gt;stack_ind);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">stack_push</span><span class="params">(STACK *s, <span class="type">int</span> data)</span><span class="comment">//入栈</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(isfull(s))<span class="comment">//判断栈是否满了</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	s-&gt;stack_buf[s-&gt;stack_ind++] = data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">stack_pop</span><span class="params">(STACK *s, <span class="type">int</span> *save)</span><span class="comment">//出栈</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(isempty(s))</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	*save = s-&gt;stack_buf[--s-&gt;stack_ind];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">stack_display</span><span class="params">(STACK *s)</span><span class="comment">//遍历栈</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i = s-&gt;stack_ind;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(i--)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;	%d\n&quot;</span>, s-&gt;stack_buf[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;==================\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">stack_destroy</span><span class="params">(STACK *s)</span><span class="comment">//销毁栈</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">free</span>(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="makefile-1"><a href="#makefile-1" class="headerlink" title="makefile"></a>makefile</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">stack</span> : main.o <span class="built_in">stack</span>.o</span><br><span class="line">	gcc -o $@ $^</span><br><span class="line">clean :</span><br><span class="line">	rm -rf *.o <span class="built_in">stack</span></span><br></pre></td></tr></table></figure>
</code></pre>
<h1 id="链表栈"><a href="#链表栈" class="headerlink" title="链表栈"></a>链表栈</h1><h2 id="main-c-2"><a href="#main-c-2" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;stack.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	STACK *s = <span class="literal">NULL</span>;<span class="comment">//s指针指向栈</span></span><br><span class="line">	<span class="type">int</span> data[] = &#123;<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">55</span>,<span class="number">66</span>,<span class="number">77</span>,<span class="number">88</span>,<span class="number">99</span>&#125;;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//循环变量</span></span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;<span class="comment">//用于接收返回值的变量</span></span><br><span class="line">	<span class="type">int</span> save = <span class="number">0</span>;<span class="comment">//用于接收出栈的数据</span></span><br><span class="line"></span><br><span class="line">	s = stack_create();<span class="comment">//开辟栈式存储结构的空间</span></span><br><span class="line">	<span class="keyword">if</span>(s == <span class="literal">NULL</span>)<span class="comment">//判断是否开辟空间失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//开辟失败,结束程序,并且返回-1</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="keyword">sizeof</span>(data) / <span class="keyword">sizeof</span>(*data); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		ret = stack_push(s, data[i]);<span class="comment">//入栈</span></span><br><span class="line">		<span class="keyword">if</span>(ret == <span class="number">-1</span>)<span class="comment">//判断栈是否满了</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;Stack Is Full!\n&quot;</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	stack_display(s);<span class="comment">//遍历栈</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;*******************\n&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	ret = stack_pop(s, &amp;save);</span><br><span class="line">	<span class="keyword">if</span>(ret == <span class="number">-1</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Stack Is Empty!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Save = %d\n&quot;</span>, save);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;*******************\n&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	stack_display(s);<span class="comment">//遍历栈</span></span><br><span class="line">	</span><br><span class="line">	stack_push(s, <span class="number">999</span>);</span><br><span class="line">	</span><br><span class="line">	stack_display(s);<span class="comment">//遍历栈</span></span><br><span class="line"></span><br><span class="line">	stack_destroy(s);<span class="comment">//销毁栈</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="stack-h-2"><a href="#stack-h-2" class="headerlink" title="stack.h"></a>stack.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __STACK_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __STACK_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> LLIST STACK;</span><br><span class="line"></span><br><span class="line">STACK *<span class="title function_">stack_create</span><span class="params">()</span>;<span class="comment">//创建栈</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">stack_push</span><span class="params">(STACK *s, <span class="type">int</span> data)</span>;<span class="comment">//入栈</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">stack_pop</span><span class="params">(STACK *s, <span class="type">int</span> *save)</span>;<span class="comment">//出栈</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">stack_display</span><span class="params">(STACK *s)</span>;<span class="comment">//遍历栈</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">stack_destroy</span><span class="params">(STACK *s)</span>;<span class="comment">//销毁栈</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="stack-c-2"><a href="#stack-c-2" class="headerlink" title="stack.c"></a>stack.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;stack.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">STACK *<span class="title function_">stack_create</span><span class="params">()</span><span class="comment">//创建栈</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> llist_create();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">isempty</span><span class="params">(STACK *s)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> llist_empty(s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">stack_push</span><span class="params">(STACK *s, <span class="type">int</span> data)</span><span class="comment">//入栈</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> llist_insert(s, &amp;data, HEADINSERT);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">stack_pop</span><span class="params">(STACK *s, <span class="type">int</span> *save)</span><span class="comment">//出栈</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(isempty(s))</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	_fetch(s, save);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">stack_display</span><span class="params">(STACK *s)</span><span class="comment">//遍历栈</span></span><br><span class="line">&#123;</span><br><span class="line">	llist_display(s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">stack_destroy</span><span class="params">(STACK *s)</span><span class="comment">//销毁栈</span></span><br><span class="line">&#123;</span><br><span class="line">	llist_destroy(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-h"><a href="#llist-h" class="headerlink" title="llist.h"></a>llist.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LLIST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LLIST_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HEADINSERT 0<span class="comment">//头插法</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TAILINSERT 1<span class="comment">//尾插法</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NAMESIZE 20<span class="comment">//字符数组的成员个数</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span>//链表中结点的结构体</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;<span class="comment">//数据域</span></span><br><span class="line">	<span class="comment">//char name[NAMESIZE];//数据域</span></span><br><span class="line">	<span class="comment">//int math;//数据域</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">prev</span>;</span><span class="comment">//prev指针指向前一个结点</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">next</span>;</span><span class="comment">//next指针指向后一个结点</span></span><br><span class="line">&#125;LLIST;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">()</span>;<span class="comment">//创建头结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, <span class="type">int</span> )</span>;<span class="comment">//插入数据</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *)</span>;<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *)</span>;<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_find</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//查找结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//删除结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, <span class="type">void</span> *)</span>;<span class="comment">//取出结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_empty</span><span class="params">(LLIST *)</span>;<span class="comment">//判断链表为空链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> _fetch(LLIST *, <span class="type">void</span> *);<span class="comment">//取出第一个数据结点</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-c"><a href="#llist-c" class="headerlink" title="llist.c"></a>llist.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *handler = <span class="literal">NULL</span>;<span class="comment">//指向头结点的指针</span></span><br><span class="line"></span><br><span class="line">	handler = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//为头结点开辟空间</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断头结点空间是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;<span class="comment">//开辟空间失败,结束函数,返回NULL</span></span><br><span class="line">	</span><br><span class="line">	handler-&gt;prev = handler-&gt;next = handler;</span><br><span class="line">	<span class="comment">//让头结点的前后指针都指向自己</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> handler;<span class="comment">//返回指向头结点的指针</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *handler,<span class="type">const</span> <span class="type">void</span> *data,<span class="type">int</span> mode)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *p = handler;<span class="comment">//代替handler指针进行移动</span></span><br><span class="line">	LLIST *newnode = <span class="literal">NULL</span>;<span class="comment">//指向新创建的数据结点</span></span><br><span class="line"></span><br><span class="line">	newnode = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//为数据结点开辟空间</span></span><br><span class="line">	<span class="keyword">if</span>(newnode == <span class="literal">NULL</span>)<span class="comment">//判断数据结点是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//开辟空间失败,结束函数,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">memcpy</span>(newnode, data, <span class="keyword">sizeof</span>(LLIST));<span class="comment">//拷贝数据</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span>(mode)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">case</span> HEADINSERT : <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> TAILINSERT : p = p-&gt;prev; <span class="keyword">break</span>; </span><br><span class="line">		<span class="keyword">default</span> : <span class="built_in">free</span>(newnode); <span class="keyword">return</span> <span class="number">-2</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	newnode-&gt;next = p-&gt;next;</span><br><span class="line">	newnode-&gt;prev = p;</span><br><span class="line">	newnode-&gt;next-&gt;prev = newnode;</span><br><span class="line">	newnode-&gt;prev-&gt;next = newnode;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *handler)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;<span class="comment">//指向每一个数据结点</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur = handler-&gt;next;cur!=handler;cur=cur-&gt;next)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;	%d\n&quot;</span>,cur-&gt;id);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;==================\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *handler)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;next;cur!=handler;cur=handler-&gt;next)</span><br><span class="line">	&#123;</span><br><span class="line">		cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">		cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">		<span class="built_in">free</span>(cur);<span class="comment">//释放数据结点</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">free</span>(cur);<span class="comment">//释放头结点</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_find</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;next;cur!=handler;cur=cur-&gt;next)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(cur-&gt;id==*(<span class="type">int</span> *)find_data)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> cur;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = llist_find(handler, find_data);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	</span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data, <span class="type">void</span> *save)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = llist_find(handler, find_data);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	<span class="built_in">memcpy</span>(save, cur, <span class="keyword">sizeof</span>(LLIST));</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_empty</span><span class="params">(LLIST *handler)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> handler == handler-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> _fetch(LLIST *handler, <span class="type">void</span> *save)<span class="comment">//取出第一个数据结点</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = handler-&gt;next;</span><br><span class="line"></span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	<span class="built_in">memcpy</span>(save, cur, <span class="keyword">sizeof</span>(cur-&gt;id));</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="makefile-2"><a href="#makefile-2" class="headerlink" title="makefile"></a>makefile</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">stack</span> : main.o llist.o <span class="built_in">stack</span>.o</span><br><span class="line">	gcc -o $@ $^</span><br><span class="line">clean :</span><br><span class="line">	rm -rf *.o <span class="built_in">stack</span></span><br></pre></td></tr></table></figure>
</code></pre>
<h1 id="汉诺塔"><a href="#汉诺塔" class="headerlink" title="汉诺塔"></a>汉诺塔</h1><h2 id="main-c-3"><a href="#main-c-3" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HANOISIZE 7</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> hanoi[HANOISIZE];</span><br><span class="line">	<span class="type">int</span> ind;</span><br><span class="line">&#125;hanoi_arr[<span class="number">3</span>] = &#123;&#123;&#123;<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;, <span class="number">7</span>&#125;, &#123;&#125;, &#123;&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">draw</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	system(<span class="string">&quot;clear&quot;</span>);</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)<span class="comment">//铁柱的遍历</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; hanoi_arr[i].ind; j++)</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, hanoi_arr[i].hanoi[j]);</span><br><span class="line">		<span class="keyword">for</span>(; j &lt; <span class="number">10</span>; j++)</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	getchar();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">move</span><span class="params">(<span class="type">int</span> src, <span class="type">int</span> dest)</span></span><br><span class="line">&#123;</span><br><span class="line">	hanoi_arr[src].ind--;</span><br><span class="line">	hanoi_arr[dest].hanoi[hanoi_arr[dest].ind] = hanoi_arr[src].hanoi[hanoi_arr[src].ind];</span><br><span class="line">	hanoi_arr[dest].ind++;</span><br><span class="line">	draw();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">play</span><span class="params">(<span class="type">int</span> src, <span class="type">int</span> dest, <span class="type">int</span> tmp, <span class="type">int</span> num)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(num == <span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		move(src, dest);</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	&#125;</span><br><span class="line">	play(src, tmp, dest, num - <span class="number">1</span>);</span><br><span class="line">	move(src, dest);</span><br><span class="line">	play(tmp, dest, src, num - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	draw();</span><br><span class="line">	</span><br><span class="line">	play(<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, HANOISIZE);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://naoemb.github.io/2023/02/16/embsky/04ds/04ds_07day/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="naoemb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="naoemb">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/16/embsky/04ds/04ds_07day/" class="post-title-link" itemprop="url">04ds_07day</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-16 08:03:05" itemprop="dateCreated datePublished" datetime="2023-02-16T08:03:05+08:00">2023-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-02-03 09:54:13" itemprop="dateModified" datetime="2023-02-03T09:54:13+08:00">2023-02-03</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>9.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>2022-8-9<br>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<h1 id="note"><a href="#note" class="headerlink" title="note"></a>note</h1><pre><code>一.温故知新
    栈式的存储结构(受限制的存储结构)
    特点 : 先进后出
    线性表中的特殊存储形式
    通过顺序表来实现栈式存储结构
    通过链表来实现栈式存储结构

#define STACKSIZE 6

struct node
&#123;
    int stack_buf[STACKSIZE];
    int stack_ind;
&#125;;

    队列式的存储结构(受限制的存储结构)
    特点 : 先进先出
    线性表中的特殊存储形式
    通过顺序表来实现队列式的存储结构
    通过链表来实现队列式的存储结构

#define QUEUESIZE 6

struct node
&#123;
    int queue[QUEUESIZE];
    int front;
    int rear;
&#125;;

早测
快慢指针
struct llist_node 
&#123;
    int val;
    struct llist_node *next;
&#125;;
1.反转链表
给你一个无头单向不循环链表的首结点l ，请你反转链表，
并返回反转后的链表首结点
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> llist_node *<span class="title function_">func</span><span class="params">(<span class="keyword">struct</span> llist_node *l)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> l;<span class="comment">//指向当前要反转的结点</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">p</span> =</span> <span class="literal">NULL</span>;<span class="comment">//指向原链表cur之后的位置</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">next</span> =</span> <span class="literal">NULL</span>;<span class="comment">//指向反转链表之后cur之后的位置</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(cur != <span class="literal">NULL</span>)<span class="comment">//遍历所有结点</span></span><br><span class="line">	&#123;</span><br><span class="line">		p = cur-&gt;next;</span><br><span class="line">		cur-&gt;next = next;</span><br><span class="line">		next = cur;</span><br><span class="line">		cur = p;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
2.链表的中间结点
给定一个头结点为handler的单向不循环链表,返回链表的中间结点
如果有两个中间结点，则返回第二个中间结点。
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> llist_node *<span class="title function_">fund</span><span class="params">(<span class="keyword">struct</span> llist_node *handler)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">s</span> =</span> handler;<span class="comment">//慢指针</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">f</span> =</span> handler;<span class="comment">//快指针</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(f != <span class="literal">NULL</span> &amp;&amp; f-&gt;next != <span class="literal">NULL</span>)<span class="comment">//判断只有一个结点</span></span><br><span class="line">	&#123;</span><br><span class="line">		s = s-&gt;next;</span><br><span class="line">		f = f-&gt;next-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
===================================
作业
1.把今天讲过的内容完完整整的复习一遍
2.把队列式的存储结构的实现方法再写一遍
3.写个链表,把早测的功能函数写程序实现
===================================
</code></pre>
<h1 id="库的制作"><a href="#库的制作" class="headerlink" title="库的制作"></a>库的制作</h1><pre><code>在Linux环境中,以.a结尾的库文件是静态库文件
在Linux环境中,以.so结尾的库文件是动态库文件

静态库 : 是在程序编译时会被连接到目标代码中,当编译完之后
        程序运行时将不再需要该静态库,
        所以可执行程序的体积比较大
动态库 : 是在程序编译时仅仅简单的引用,当编译完之后
        程序运行时需要该动态库,
        所以可执行程序的体积比较小
查看可执行代码的依赖的共享库：ldd命令 – 打印程序依赖的共享库
注意 : 如果静态库和动态库同时存在的情况下优先使用动态库
</code></pre>
<h2 id="静态库的制作方法"><a href="#静态库的制作方法" class="headerlink" title="静态库的制作方法"></a>静态库的制作方法</h2><pre><code>1.把.c文件编译成.o目标文件
    gcc -c -o xxxx.o xxxx.c
2.把.o目标文件编译成.a静态库文件
    ar -cr libxxxx.a xxxx.o
3.生成索引
    ranlib libxxxx.a
4.把静态库放到/lib目录中
    mv libxxxx.a /lib
5.把头文件放到/usr/include目录中
    mv xxxx.h /usr/include
6.编译主程序
    gcc main.c -lxxxx
如果没有把libxxxx.a和xxxx.h文件放到指定目录下
    gcc main.c -I[头文件的路径] -L[库文件的路径] -lxxxx
注意 : [头文件的路径] 和 [库文件的路径]只写路径不写文件名
    -I	指定头文件的路径
    -L	指定库文件的路径
    -l	链接库的名字
</code></pre>
<h2 id="动态库的制作"><a href="#动态库的制作" class="headerlink" title="动态库的制作"></a>动态库的制作</h2><pre><code>1.把.c文件编译成.o目标文件
    gcc -fPIC -c -o xxx.o xxx.c
    -fPIC	使用gcc编译必须与位置无关
2.把.o目标文件编译成动态库文件
    gcc -shared -o libxxx.so xxx.o
3.把动态库文件移动到/lib目录中
    mv libxxx.so /lib
4.把头文件移动到/usr/include目录中
    mv xxx.h /usr/include
5.编译文件
    gcc main.c -lxxx

-------------------------------------
long arr[5] = &#123;11,22,33,44,55&#125;;
与位置有关
    比如 : arr 0x1000
    arr[0]		*(long *)(0x1000)
    arr[1]		*(long *)(0x1008)
与位置无关
    比如 : arr 0x2000
    arr[0]		*(long *)(0x2000)
    arr[1]		*((long *)(0x2000) + 1);
-------------------------------------
</code></pre>
<h1 id="quueu-arr队列"><a href="#quueu-arr队列" class="headerlink" title="quueu_arr队列"></a>quueu_arr队列</h1><h2 id="main-c"><a href="#main-c" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;queue.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	QUEUE *q = <span class="literal">NULL</span>;<span class="comment">//q指针指向队列</span></span><br><span class="line">	<span class="type">int</span> data[] = &#123;<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">55</span>,<span class="number">66</span>,<span class="number">77</span>,<span class="number">88</span>,<span class="number">99</span>&#125;;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//循环变量</span></span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;<span class="comment">//用来接收返回值的变量</span></span><br><span class="line">	<span class="type">int</span> save = <span class="number">0</span>;<span class="comment">//用来保存出队的数据</span></span><br><span class="line"></span><br><span class="line">	q = queue_create();<span class="comment">//创建队列</span></span><br><span class="line">	<span class="keyword">if</span>(q == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="keyword">sizeof</span>(data) / <span class="keyword">sizeof</span>(*data); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		ret = queue_en(q, data[i]);<span class="comment">//入队</span></span><br><span class="line">		<span class="keyword">if</span>(ret == <span class="number">-1</span>)<span class="comment">//判断队列是否满了</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;Queue Is Full!\n&quot;</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	queue_display(q);<span class="comment">//遍历队列</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;***********************\n&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	ret = queue_de(q, &amp;save);</span><br><span class="line">	<span class="keyword">if</span>(ret == <span class="number">-1</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Queue Is Empty!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Save = %d\n&quot;</span>, save);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;***********************\n&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	queue_display(q);<span class="comment">//遍历队列</span></span><br><span class="line">	</span><br><span class="line">	queue_en(q, <span class="number">999</span>);</span><br><span class="line"></span><br><span class="line">	queue_display(q);<span class="comment">//遍历队列</span></span><br><span class="line"></span><br><span class="line">	queue_destroy(q);<span class="comment">//释放队列</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="queue-h"><a href="#queue-h" class="headerlink" title="queue.h"></a>queue.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __QUEUE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __QUEUE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> QUEUESIZE 6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> <span class="built_in">queue</span>[QUEUESIZE];<span class="comment">//队列</span></span><br><span class="line">	<span class="type">int</span> front;<span class="comment">//队头</span></span><br><span class="line">	<span class="type">int</span> rear;<span class="comment">//队尾</span></span><br><span class="line">&#125;QUEUE;</span><br><span class="line"></span><br><span class="line">QUEUE *<span class="title function_">queue_create</span><span class="params">()</span>;<span class="comment">//创建队列</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">queue_en</span><span class="params">(QUEUE *q, <span class="type">int</span> data)</span>;<span class="comment">//入队</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">queue_de</span><span class="params">(QUEUE *q, <span class="type">int</span> *save)</span>;<span class="comment">//出队</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">queue_display</span><span class="params">(QUEUE *q)</span>;<span class="comment">//遍历队列</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">queue_destroy</span><span class="params">(QUEUE *q)</span>;<span class="comment">//销毁队列</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="queue-c"><a href="#queue-c" class="headerlink" title="queue.c"></a>queue.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;queue.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">QUEUE *<span class="title function_">queue_create</span><span class="params">()</span><span class="comment">//创建队列</span></span><br><span class="line">&#123;</span><br><span class="line">	QUEUE *q = <span class="literal">NULL</span>;<span class="comment">//将来指向队列</span></span><br><span class="line"></span><br><span class="line">	q = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(QUEUE));<span class="comment">//为队列开辟空间</span></span><br><span class="line">	<span class="keyword">if</span>(q == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">	q-&gt;front = q-&gt;rear = <span class="number">0</span>;<span class="comment">//把队头和队尾都标记到0的位置</span></span><br><span class="line">	<span class="keyword">return</span> q;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">queue_en</span><span class="params">(QUEUE *q, <span class="type">int</span> data)</span><span class="comment">//入队</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>((q-&gt;rear + <span class="number">1</span>) % QUEUESIZE == q-&gt;front)<span class="comment">//判断队满</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	q-&gt;rear = (q-&gt;rear + <span class="number">1</span>) % QUEUESIZE;<span class="comment">//移动队尾的标志</span></span><br><span class="line">	q-&gt;<span class="built_in">queue</span>[q-&gt;rear] = data;<span class="comment">//入队数据</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">queue_de</span><span class="params">(QUEUE *q, <span class="type">int</span> *save)</span><span class="comment">//出队</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(q-&gt;front == q-&gt;rear)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	q-&gt;front = (q-&gt;front + <span class="number">1</span>) % QUEUESIZE;</span><br><span class="line">	*save = q-&gt;<span class="built_in">queue</span>[q-&gt;front];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">queue_display</span><span class="params">(QUEUE *q)</span><span class="comment">//遍历队列</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i = (q-&gt;front + <span class="number">1</span>) % QUEUESIZE;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(q-&gt;front == q-&gt;rear)<span class="comment">//判断是否是空队列</span></span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;------------------------\n&quot;</span>);</span><br><span class="line">	<span class="keyword">while</span>(i != q-&gt;rear)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>, q-&gt;<span class="built_in">queue</span>[i]);</span><br><span class="line">		i = (i + <span class="number">1</span>) % QUEUESIZE;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, q-&gt;<span class="built_in">queue</span>[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;------------------------\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">queue_destroy</span><span class="params">(QUEUE *q)</span><span class="comment">//销毁队列</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">free</span>(q);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="makefile"><a href="#makefile" class="headerlink" title="makefile"></a>makefile</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">queue</span> : main.o <span class="built_in">queue</span>.o</span><br><span class="line">	gcc -o $@ $^</span><br><span class="line">clean :</span><br><span class="line">	rm -rf *.o <span class="built_in">queue</span></span><br></pre></td></tr></table></figure>
</code></pre>
<h1 id="queue-llist-队列"><a href="#queue-llist-队列" class="headerlink" title="queue_llist_队列"></a>queue_llist_队列</h1><h2 id="main-c-1"><a href="#main-c-1" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;queue.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	QUEUE *q = <span class="literal">NULL</span>;<span class="comment">//q指针指向队列</span></span><br><span class="line">	<span class="type">int</span> data[] = &#123;<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">55</span>,<span class="number">66</span>,<span class="number">77</span>,<span class="number">88</span>,<span class="number">99</span>&#125;;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//循环变量</span></span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;<span class="comment">//用来接收返回值的变量</span></span><br><span class="line">	<span class="type">int</span> save = <span class="number">0</span>;<span class="comment">//用来保存出队的数据</span></span><br><span class="line"></span><br><span class="line">	q = queue_create();<span class="comment">//创建队列</span></span><br><span class="line">	<span class="keyword">if</span>(q == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="keyword">sizeof</span>(data) / <span class="keyword">sizeof</span>(*data); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		ret = queue_en(q, data[i]);<span class="comment">//入队</span></span><br><span class="line">		<span class="keyword">if</span>(ret == <span class="number">-1</span>)<span class="comment">//判断队列是否满了</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;Queue Is Full!\n&quot;</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	queue_display(q);<span class="comment">//遍历队列</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;***********************\n&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	ret = queue_de(q, &amp;save);</span><br><span class="line">	<span class="keyword">if</span>(ret == <span class="number">-1</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Queue Is Empty!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Save = %d\n&quot;</span>, save);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;***********************\n&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	queue_display(q);<span class="comment">//遍历队列</span></span><br><span class="line">	</span><br><span class="line">	queue_en(q, <span class="number">999</span>);</span><br><span class="line"></span><br><span class="line">	queue_display(q);<span class="comment">//遍历队列</span></span><br><span class="line"></span><br><span class="line">	queue_destroy(q);<span class="comment">//释放队列</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="queue-h-1"><a href="#queue-h-1" class="headerlink" title="queue.h"></a>queue.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __QUEUE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __QUEUE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> LLIST QUEUE;</span><br><span class="line"></span><br><span class="line">QUEUE *<span class="title function_">queue_create</span><span class="params">()</span>;<span class="comment">//创建队列</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">queue_en</span><span class="params">(QUEUE *q, <span class="type">int</span> data)</span>;<span class="comment">//入队</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">queue_de</span><span class="params">(QUEUE *q, <span class="type">int</span> *save)</span>;<span class="comment">//出队</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">queue_display</span><span class="params">(QUEUE *q)</span>;<span class="comment">//遍历队列</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">queue_destroy</span><span class="params">(QUEUE *q)</span>;<span class="comment">//销毁队列</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="queue-c-1"><a href="#queue-c-1" class="headerlink" title="queue.c"></a>queue.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;queue.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">QUEUE *<span class="title function_">queue_create</span><span class="params">()</span><span class="comment">//创建队列</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> llist_create();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">queue_en</span><span class="params">(QUEUE *q, <span class="type">int</span> data)</span><span class="comment">//入队</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> llist_insert(q, &amp;data, TAILINSERT);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">queue_de</span><span class="params">(QUEUE *q, <span class="type">int</span> *save)</span><span class="comment">//出队</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(llist_empty(q))</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	_fetch(q, save);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">queue_display</span><span class="params">(QUEUE *q)</span><span class="comment">//遍历队列</span></span><br><span class="line">&#123;</span><br><span class="line">	llist_display(q);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">queue_destroy</span><span class="params">(QUEUE *q)</span><span class="comment">//销毁队列</span></span><br><span class="line">&#123;</span><br><span class="line">	llist_destroy(q);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-h"><a href="#llist-h" class="headerlink" title="llist.h"></a>llist.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LLIST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LLIST_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HEADINSERT 0<span class="comment">//头插法</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TAILINSERT 1<span class="comment">//尾插法</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NAMESIZE 20<span class="comment">//字符数组的成员个数</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span>//链表中结点的结构体</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;<span class="comment">//数据域</span></span><br><span class="line">	<span class="comment">//char name[NAMESIZE];//数据域</span></span><br><span class="line">	<span class="comment">//int math;//数据域</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">prev</span>;</span><span class="comment">//prev指针指向前一个结点</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">next</span>;</span><span class="comment">//next指针指向后一个结点</span></span><br><span class="line">&#125;LLIST;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">()</span>;<span class="comment">//创建头结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, <span class="type">int</span> )</span>;<span class="comment">//插入数据</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *)</span>;<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *)</span>;<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_find</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//查找结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//删除结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, <span class="type">void</span> *)</span>;<span class="comment">//取出结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_empty</span><span class="params">(LLIST *)</span>;<span class="comment">//判断链表为空链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> _fetch(LLIST *, <span class="type">void</span> *);<span class="comment">//取出第一个数据结点</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-c"><a href="#llist-c" class="headerlink" title="llist.c"></a>llist.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *handler = <span class="literal">NULL</span>;<span class="comment">//指向头结点的指针</span></span><br><span class="line"></span><br><span class="line">	handler = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//为头结点开辟空间</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断头结点空间是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;<span class="comment">//开辟空间失败,结束函数,返回NULL</span></span><br><span class="line">	</span><br><span class="line">	handler-&gt;prev = handler-&gt;next = handler;</span><br><span class="line">	<span class="comment">//让头结点的前后指针都指向自己</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> handler;<span class="comment">//返回指向头结点的指针</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *handler,<span class="type">const</span> <span class="type">void</span> *data,<span class="type">int</span> mode)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *p = handler;<span class="comment">//代替handler指针进行移动</span></span><br><span class="line">	LLIST *newnode = <span class="literal">NULL</span>;<span class="comment">//指向新创建的数据结点</span></span><br><span class="line"></span><br><span class="line">	newnode = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//为数据结点开辟空间</span></span><br><span class="line">	<span class="keyword">if</span>(newnode == <span class="literal">NULL</span>)<span class="comment">//判断数据结点是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//开辟空间失败,结束函数,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">memcpy</span>(newnode, data, <span class="keyword">sizeof</span>(LLIST));<span class="comment">//拷贝数据</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span>(mode)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">case</span> HEADINSERT : <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> TAILINSERT : p = p-&gt;prev; <span class="keyword">break</span>; </span><br><span class="line">		<span class="keyword">default</span> : <span class="built_in">free</span>(newnode); <span class="keyword">return</span> <span class="number">-2</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	newnode-&gt;next = p-&gt;next;</span><br><span class="line">	newnode-&gt;prev = p;</span><br><span class="line">	newnode-&gt;next-&gt;prev = newnode;</span><br><span class="line">	newnode-&gt;prev-&gt;next = newnode;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *handler)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;<span class="comment">//指向每一个数据结点</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;==================\n&quot;</span>);</span><br><span class="line">	<span class="keyword">for</span>(cur = handler-&gt;next;cur!=handler;cur=cur-&gt;next)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>, cur-&gt;id);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n==================\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *handler)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;next;cur!=handler;cur=handler-&gt;next)</span><br><span class="line">	&#123;</span><br><span class="line">		cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">		cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">		<span class="built_in">free</span>(cur);<span class="comment">//释放数据结点</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">free</span>(cur);<span class="comment">//释放头结点</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_find</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;next;cur!=handler;cur=cur-&gt;next)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(cur-&gt;id==*(<span class="type">int</span> *)find_data)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> cur;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = llist_find(handler, find_data);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	</span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data, <span class="type">void</span> *save)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = llist_find(handler, find_data);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	<span class="built_in">memcpy</span>(save, cur, <span class="keyword">sizeof</span>(LLIST));</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_empty</span><span class="params">(LLIST *handler)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> handler == handler-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> _fetch(LLIST *handler, <span class="type">void</span> *save)<span class="comment">//取出第一个数据结点</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = handler-&gt;next;</span><br><span class="line"></span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	<span class="built_in">memcpy</span>(save, cur, <span class="keyword">sizeof</span>(cur-&gt;id));</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="makefile-1"><a href="#makefile-1" class="headerlink" title="makefile"></a>makefile</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">queue</span> : main.o llist.o <span class="built_in">queue</span>.o</span><br><span class="line">	gcc -o $@ $^</span><br><span class="line">clean :</span><br><span class="line">	rm -rf *.o <span class="built_in">queue</span></span><br></pre></td></tr></table></figure>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://naoemb.github.io/2023/02/16/embsky/04ds/04ds_04day/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="naoemb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="naoemb">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/16/embsky/04ds/04ds_04day/" class="post-title-link" itemprop="url">04ds_04day</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-16 08:03:05" itemprop="dateCreated datePublished" datetime="2023-02-16T08:03:05+08:00">2023-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-09-02 01:53:19" itemprop="dateModified" datetime="2022-09-02T01:53:19+08:00">2022-09-02</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>7.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>2022-8-4<br>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<h1 id="note"><a href="#note" class="headerlink" title="note"></a>note</h1><pre><code>1.写出有头单向循环链表的插入功能(头插 尾插)
2.实现冒泡法排序
    void sort(int *arr, int size);
有头单向循环链表的功能

无头单向不循环链表

约瑟夫环(约瑟夫杀人游戏)

--------------------------------------------
作业 :
1.把今天讲过的内容完完整整的复习一遍
2.把之前写过的5种链表都重新写一遍
    1)有头单向不循环链表
    2)有头单向循环链表
    3)无头单向不循环链表
    4)无头单向循环链表
    5)有头双向循环链表
--------------------------------------------
</code></pre>
<h1 id="约瑟夫环-约瑟夫杀人游戏"><a href="#约瑟夫环-约瑟夫杀人游戏" class="headerlink" title="约瑟夫环(约瑟夫杀人游戏)"></a>约瑟夫环(约瑟夫杀人游戏)</h1><h2 id="main-c"><a href="#main-c" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;joseph.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	JOSEPH *j = <span class="literal">NULL</span>;<span class="comment">//j指针指向第一个有效结点</span></span><br><span class="line">	<span class="type">int</span> player_num = <span class="number">0</span>;<span class="comment">//保存玩家个数</span></span><br><span class="line">	<span class="type">int</span> kill_num = <span class="number">0</span>;<span class="comment">//数的数字</span></span><br><span class="line">	<span class="type">int</span> alive = <span class="number">0</span>;<span class="comment">//保存存活下来的人的ID</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Please Insert Player Number : &quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;player_num);</span><br><span class="line">	j = joseph_insert(player_num);<span class="comment">//插入数据结点</span></span><br><span class="line">	<span class="keyword">if</span>(j == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;===========================\n&quot;</span>);</span><br><span class="line">	joseph_display(j);<span class="comment">//遍历链表</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;===========================\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Please Insert Kill Number : &quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;kill_num);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;***************************\n&quot;</span>);</span><br><span class="line">	alive = joseph_play(j, player_num, kill_num);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n***************************\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;alive = %d\n&quot;</span>, alive);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="joseph-h"><a href="#joseph-h" class="headerlink" title="joseph.h"></a>joseph.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __JOSEPH_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __JOSEPH_H</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;<span class="comment">//编号</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;JOSEPH;</span><br><span class="line"></span><br><span class="line">JOSEPH *<span class="title function_">joseph_insert</span><span class="params">(<span class="type">int</span> )</span>;</span><br><span class="line"></span><br><span class="line">JOSEPH *<span class="title function_">joseph_display</span><span class="params">(JOSEPH *)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">joseph_play</span><span class="params">(JOSEPH *, <span class="type">int</span> , <span class="type">int</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="joseph-c"><a href="#joseph-c" class="headerlink" title="joseph.c"></a>joseph.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;joseph.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">JOSEPH *<span class="title function_">joseph_insert</span><span class="params">(<span class="type">int</span> player_num)</span></span><br><span class="line">&#123;</span><br><span class="line">	JOSEPH *j = <span class="literal">NULL</span>;<span class="comment">//j指针指向第一个数据结点</span></span><br><span class="line">	JOSEPH *p = <span class="literal">NULL</span>;<span class="comment">//p指针代替j指针进行移动</span></span><br><span class="line">	JOSEPH *newnode = <span class="literal">NULL</span>;<span class="comment">//指针指向新创建的结点</span></span><br><span class="line">	<span class="type">int</span> i = <span class="number">1</span>;<span class="comment">//循环变量</span></span><br><span class="line">	</span><br><span class="line">	j = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(JOSEPH));</span><br><span class="line">	<span class="keyword">if</span>(j == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">	j-&gt;id = i;</span><br><span class="line">	j-&gt;next = j;</span><br><span class="line">	p = j;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">2</span>; i &lt;= player_num; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		newnode = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(JOSEPH));</span><br><span class="line">		<span class="keyword">if</span>(newnode == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> j;</span><br><span class="line">		newnode-&gt;id = i;</span><br><span class="line">		newnode-&gt;next = p-&gt;next;</span><br><span class="line">		p-&gt;next = newnode;</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">JOSEPH *<span class="title function_">joseph_display</span><span class="params">(JOSEPH *j)</span></span><br><span class="line">&#123;</span><br><span class="line">	JOSEPH *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur = j; cur-&gt;next != j; cur = cur-&gt;next)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, cur-&gt;id);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, cur-&gt;id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">joseph_play</span><span class="params">(JOSEPH *j, <span class="type">int</span> player_num, <span class="type">int</span> kill_num)</span></span><br><span class="line">&#123;</span><br><span class="line">	JOSEPH *back = j;</span><br><span class="line">	JOSEPH *cur = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="type">int</span> p_n = player_num;</span><br><span class="line">	<span class="type">int</span> k_n = kill_num;</span><br><span class="line">	<span class="type">int</span> alive = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(back-&gt;next != j)<span class="comment">//为了找第一个结点的前一个位置</span></span><br><span class="line">		back = back-&gt;next;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(--p_n)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(k_n = kill_num - <span class="number">1</span>; k_n &gt; <span class="number">0</span>; k_n--)</span><br><span class="line">			back = back-&gt;next;</span><br><span class="line">		cur = back-&gt;next;</span><br><span class="line">		back-&gt;next = cur-&gt;next;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, cur-&gt;id);</span><br><span class="line">		<span class="built_in">free</span>(cur);</span><br><span class="line">	&#125;</span><br><span class="line">	alive = back-&gt;id;</span><br><span class="line">	<span class="built_in">free</span>(back);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> alive;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="makefile"><a href="#makefile" class="headerlink" title="makefile"></a>makefile</h2><pre><code>joseph : main.o joseph.o
    gcc -o $@ $^
clean :
    rm -rf *.o joseph
</code></pre>
<h1 id="有头双向循环链表"><a href="#有头双向循环链表" class="headerlink" title="有头双向循环链表"></a>有头双向循环链表</h1><pre><code>/*
    有头双向循环链表
    1.创建头结点					llist_create();
    2.插入数据结点(头插法 尾插法)	llist_insert();
    3.遍历链表						llist_display();
    4.销毁链表						llist_destroy();
*/
</code></pre>
<h2 id="main-c-1"><a href="#main-c-1" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *handler = <span class="literal">NULL</span>;<span class="comment">//指针指向链表的头结点</span></span><br><span class="line">	LLIST *find = <span class="literal">NULL</span>;<span class="comment">//指针指向要查找的结点</span></span><br><span class="line">	LLIST data;<span class="comment">//存储用户的数据</span></span><br><span class="line">	LLIST save;<span class="comment">//保存取出的数据</span></span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//循环变量</span></span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;<span class="comment">//接收函数的返回值</span></span><br><span class="line">	<span class="type">int</span> find_id = <span class="number">100</span>;<span class="comment">//要查找的ID号</span></span><br><span class="line">	<span class="type">char</span> *find_name = <span class="string">&quot;stu4&quot;</span>;<span class="comment">//要查找的名字</span></span><br><span class="line"></span><br><span class="line">	handler = llist_create();<span class="comment">//创建头结点</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断头结点是否创建失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//创建失败,结束程序,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		data.id = <span class="number">100</span> + i;<span class="comment">//获取数据</span></span><br><span class="line">		<span class="built_in">sprintf</span>(data.name, <span class="string">&quot;stu%d&quot;</span>, i);<span class="comment">//获取数据</span></span><br><span class="line">		data.math = <span class="number">100</span> - i;<span class="comment">//获取数据</span></span><br><span class="line">		data.prev = data.next = <span class="literal">NULL</span>;<span class="comment">//prev和next指向NULL</span></span><br><span class="line">		llist_insert(handler, &amp;data, TAILINSERT);</span><br><span class="line">		<span class="comment">//插入数据结点</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	llist_display(handler);<span class="comment">//遍历链表</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;====================\n&quot;</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	find = llist_find(handler, &quot;stu9&quot;);//查找结点</span></span><br><span class="line"><span class="comment">	if(find == NULL)//判断是否没有找到</span></span><br><span class="line"><span class="comment">		printf(&quot;Not Find It!\n&quot;);</span></span><br><span class="line"><span class="comment">	else</span></span><br><span class="line"><span class="comment">		printf(&quot;Find It!	%d	%s	%d\n&quot;,find-&gt;id, find-&gt;name,find-&gt;math);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line">	ret = llist_delete(handler, &amp;find_id);</span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It!\n&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	ret = llist_fetch(handler, find_name, &amp;save);</span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It!	%d	%s	%d\n&quot;</span>,save.id, save.name, save.math);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;====================\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	llist_display(handler);<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">	llist_destroy(handler);<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-h"><a href="#llist-h" class="headerlink" title="llist.h"></a>llist.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LLIST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LLIST_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HEADINSERT 0<span class="comment">//头插法</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TAILINSERT 1<span class="comment">//尾插法</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NAMESIZE 20<span class="comment">//字符数组的成员个数</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span>//链表中结点的结构体</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;<span class="comment">//数据域</span></span><br><span class="line">	<span class="type">char</span> name[NAMESIZE];<span class="comment">//数据域</span></span><br><span class="line">	<span class="type">int</span> math;<span class="comment">//数据域</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">prev</span>;</span><span class="comment">//prev指针指向前一个结点</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">next</span>;</span><span class="comment">//next指针指向后一个结点</span></span><br><span class="line">&#125;LLIST;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">()</span>;<span class="comment">//创建头结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, <span class="type">int</span> )</span>;<span class="comment">//插入数据</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *)</span>;<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *)</span>;<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_find</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//查找结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//删除结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, <span class="type">void</span> *)</span>;<span class="comment">//取出结点</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-c"><a href="#llist-c" class="headerlink" title="llist.c"></a>llist.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *handler = <span class="literal">NULL</span>;<span class="comment">//指向头结点的指针</span></span><br><span class="line"></span><br><span class="line">	handler = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//为头结点开辟空间</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断头结点空间是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;<span class="comment">//开辟空间失败,结束函数,返回NULL</span></span><br><span class="line">	</span><br><span class="line">	handler-&gt;prev = handler-&gt;next = handler;</span><br><span class="line">	<span class="comment">//让头结点的前后指针都指向自己</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> handler;<span class="comment">//返回指向头结点的指针</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *handler,<span class="type">const</span> <span class="type">void</span> *data,<span class="type">int</span> mode)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *p = handler;<span class="comment">//代替handler指针进行移动</span></span><br><span class="line">	LLIST *newnode = <span class="literal">NULL</span>;<span class="comment">//指向新创建的数据结点</span></span><br><span class="line"></span><br><span class="line">	newnode = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//为数据结点开辟空间</span></span><br><span class="line">	<span class="keyword">if</span>(newnode == <span class="literal">NULL</span>)<span class="comment">//判断数据结点是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//开辟空间失败,结束函数,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">memcpy</span>(newnode, data, <span class="keyword">sizeof</span>(LLIST));<span class="comment">//拷贝数据</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span>(mode)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">case</span> HEADINSERT : <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> TAILINSERT : p = p-&gt;prev; <span class="keyword">break</span>; </span><br><span class="line">		<span class="keyword">default</span> : <span class="built_in">free</span>(newnode); <span class="keyword">return</span> <span class="number">-2</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	newnode-&gt;next = p-&gt;next;</span><br><span class="line">	newnode-&gt;prev = p;</span><br><span class="line">	newnode-&gt;next-&gt;prev = newnode;</span><br><span class="line">	newnode-&gt;prev-&gt;next = newnode;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *handler)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;<span class="comment">//指向每一个数据结点</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur = handler-&gt;next;cur!=handler;cur=cur-&gt;next)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d	%s	%d\n&quot;</span>,cur-&gt;id,cur-&gt;name,cur-&gt;math);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *handler)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;next;cur!=handler;cur=handler-&gt;next)</span><br><span class="line">	&#123;</span><br><span class="line">		cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">		cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">		<span class="built_in">free</span>(cur);<span class="comment">//释放数据结点</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">free</span>(cur);<span class="comment">//释放头结点</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_find</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;next;cur!=handler;cur=cur-&gt;next)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(cur-&gt;id==*(<span class="type">int</span> *)find_data || </span><br><span class="line">			!(<span class="built_in">strcmp</span>(cur-&gt;name, find_data)))</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> cur;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = llist_find(handler, find_data);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	</span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data, <span class="type">void</span> *save)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = llist_find(handler, find_data);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	<span class="built_in">memcpy</span>(save, cur, <span class="keyword">sizeof</span>(LLIST));</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="makefile-1"><a href="#makefile-1" class="headerlink" title="makefile"></a>makefile</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">llist : main.o llist.o</span><br><span class="line">	gcc -o $@ $^</span><br><span class="line">clean :</span><br><span class="line">	rm -rf *.o llist</span><br></pre></td></tr></table></figure>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://naoemb.github.io/2023/02/16/embsky/04ds/04ds_05day/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="naoemb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="naoemb">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/16/embsky/04ds/04ds_05day/" class="post-title-link" itemprop="url">04ds_05day</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-16 08:03:05" itemprop="dateCreated datePublished" datetime="2023-02-16T08:03:05+08:00">2023-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-09-02 01:53:24" itemprop="dateModified" datetime="2022-09-02T01:53:24+08:00">2022-09-02</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>18k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>17 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>2022-8-5<br>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<h1 id="note"><a href="#note" class="headerlink" title="note"></a>note</h1><pre><code>一.早测
    完成有头双向循环链表的功能
    1.创建头结点
    2.插入数据结点
    3.遍历链表
    4.销毁链表
    5.查找结点
    6.删除结点
    7.拿出结点
只写声明和实现,不用写调用(llist.c 和 llist.h)

=================================
作业
1.把这一周讲过的内容都完完整整的复习一遍
2.把三个版本的通用性强的链表重新实现一遍
3.在纸上写链表的代码
=================================
</code></pre>
<h1 id="通用性强的链表"><a href="#通用性强的链表" class="headerlink" title="通用性强的链表"></a>通用性强的链表</h1><p>结点图<br><img src="/images/04ds/05day/lib1/%E7%BB%93%E7%82%B9%E5%9B%BE.png"></p>
<h2 id="main-c"><a href="#main-c" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NAMESIZE 20<span class="comment">//字符数组的成员个数</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span>//客户自己创建的数据结构体</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span> name[NAMESIZE];</span><br><span class="line">	<span class="type">int</span> math;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	<span class="type">int</span> tel;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *data)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> data;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d	%s	%d	%d	%d\n&quot;</span>,p-&gt;id,p-&gt;name,p-&gt;math,p-&gt;age, p-&gt;tel);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">id_cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *data, <span class="type">const</span> <span class="type">void</span> *key)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> data;</span><br><span class="line">	<span class="type">const</span> <span class="type">int</span> *k = key;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> !(p-&gt;id - *k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">name_cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *data, <span class="type">const</span> <span class="type">void</span> *key)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> data;</span><br><span class="line">	<span class="type">const</span> <span class="type">char</span> *k = key;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> !(<span class="built_in">strcmp</span>(p-&gt;name, k));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">tel_cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *data, <span class="type">const</span> <span class="type">void</span> *key)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> data;</span><br><span class="line">	<span class="type">const</span> <span class="type">int</span> *k = key;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> !(p-&gt;tel - *k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *handler = <span class="literal">NULL</span>;<span class="comment">//handler指针指向头结点</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">data</span>;</span><span class="comment">//存放客户自己的数据</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">save</span>;</span><span class="comment">//存储拿出的数据</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">find</span> =</span> <span class="literal">NULL</span>;<span class="comment">//指向找到的数据</span></span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//循环变量</span></span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;<span class="comment">//接收返回值</span></span><br><span class="line">	<span class="type">int</span> find_id = <span class="number">100</span>;</span><br><span class="line">	<span class="type">int</span> find_tel = <span class="number">10002</span>;</span><br><span class="line">	<span class="type">char</span> *find_name = <span class="string">&quot;stu4&quot;</span>;</span><br><span class="line"></span><br><span class="line">	handler = llist_create(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> stu));</span><br><span class="line">	<span class="comment">//创建头结点</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断头结点是否创建失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//创建失败,结束程序,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		data.id = <span class="number">100</span> + i;<span class="comment">//存储数据</span></span><br><span class="line">		<span class="built_in">sprintf</span>(data.name, <span class="string">&quot;stu%d&quot;</span>, i);<span class="comment">//存储数据</span></span><br><span class="line">		data.math = <span class="number">100</span> - i;<span class="comment">//存储数据</span></span><br><span class="line">		data.age = <span class="number">20</span> + i;<span class="comment">//存储数据</span></span><br><span class="line">		data.tel = <span class="number">10000</span> + i;<span class="comment">//存储数据</span></span><br><span class="line">		llist_insert(handler,&amp;data,TAILINSERT);<span class="comment">//插入数据</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	llist_display(handler, print);<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;============================\n&quot;</span>);</span><br><span class="line"><span class="comment">/*	</span></span><br><span class="line"><span class="comment">	find = llist_find(handler, &amp;find_tel, tel_cmp);//查找</span></span><br><span class="line"><span class="comment">	if(find == NULL)//判断是否没有找到</span></span><br><span class="line"><span class="comment">		printf(&quot;Not Find It!\n&quot;);</span></span><br><span class="line"><span class="comment">	else</span></span><br><span class="line"><span class="comment">	&#123;</span></span><br><span class="line"><span class="comment">		printf(&quot;Find It!\n&quot;);</span></span><br><span class="line"><span class="comment">		print(find);</span></span><br><span class="line"><span class="comment">	&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line">	ret = llist_delete(handler, &amp;find_tel, tel_cmp);</span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It!\n&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	ret = llist_fetch(handler, &amp;find_tel, tel_cmp, &amp;save);</span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It!\n&quot;</span>);</span><br><span class="line">		print(&amp;save);</span><br><span class="line">	&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;============================\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	llist_display(handler, print);<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">	llist_destroy(handler);<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-h"><a href="#llist-h" class="headerlink" title="llist.h"></a>llist.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LLIST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LLIST_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HEADINSERT 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TAILINSERT 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="title function_">void</span> <span class="params">(*llist_op)</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//定义函数指针类型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="title function_">int</span> <span class="params">(*llist_cmp)</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *,<span class="type">const</span> <span class="type">void</span> *)</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span>//数据结点的结构体</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">void</span> *data;<span class="comment">//data指针指向数据</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">prev</span>;</span><span class="comment">//prev指针指向前驱</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">next</span>;</span><span class="comment">//next指针指向后继</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">llist_head</span>//头结点的结构体</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> size;<span class="comment">//保存客户创建的结构体的大小</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> <span class="title">head</span>;</span><span class="comment">//</span></span><br><span class="line">&#125;LLIST;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">(<span class="type">int</span> )</span>;<span class="comment">//创建头结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, <span class="type">int</span> )</span>;<span class="comment">//插入数据</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *, llist_op)</span>;<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *)</span>;<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> *<span class="title function_">llist_find</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, llist_cmp)</span>;<span class="comment">//查找</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, llist_cmp)</span>;<span class="comment">//删除</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, llist_cmp, <span class="type">void</span> *)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-c"><a href="#llist-c" class="headerlink" title="llist.c"></a>llist.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">(<span class="type">int</span> size)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *handler = <span class="literal">NULL</span>;<span class="comment">//指向头结点的指针</span></span><br><span class="line"></span><br><span class="line">	handler = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//为头结点开辟空间</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断头结点空间是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;<span class="comment">//开辟失败,结束函数,并且返回NULL</span></span><br><span class="line">	handler-&gt;size = size;<span class="comment">//把客户结构体大小存储起来</span></span><br><span class="line">	handler-&gt;head.prev = &amp;handler-&gt;head;<span class="comment">//前驱指向自己</span></span><br><span class="line">	handler-&gt;head.next = &amp;handler-&gt;head;<span class="comment">//后继指向自己</span></span><br><span class="line">	<span class="keyword">return</span> handler;<span class="comment">//把指向头结点的指针返回</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *handler,<span class="type">const</span> <span class="type">void</span> *data,<span class="type">int</span> mode)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">p</span> =</span> &amp;handler-&gt;head;<span class="comment">//保存头结点地址</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">newnode</span> =</span> <span class="literal">NULL</span>;<span class="comment">//保存新建的数据结点</span></span><br><span class="line"></span><br><span class="line">	newnode = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> llist_node));<span class="comment">//数据结点</span></span><br><span class="line">	<span class="keyword">if</span>(newnode == <span class="literal">NULL</span>)<span class="comment">//判断数据结点是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//开辟失败,结束函数,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	newnode-&gt;data=<span class="built_in">malloc</span>(handler-&gt;size);<span class="comment">//开辟数据空间</span></span><br><span class="line">	<span class="keyword">if</span>(newnode-&gt;data == <span class="literal">NULL</span>)<span class="comment">//判断数据空间是否开辟失败</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">free</span>(newnode);<span class="comment">//释放数据结点的空间</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-2</span>;<span class="comment">//数据空间开辟失败,结束函数,并且返回-2</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">memcpy</span>(newnode-&gt;data, data, handler-&gt;size);<span class="comment">//拷贝数据</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span>(mode)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">case</span> HEADINSERT : <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> TAILINSERT : p = p-&gt;prev; <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span> : <span class="built_in">free</span>(newnode-&gt;data); <span class="built_in">free</span>(newnode);</span><br><span class="line">					<span class="keyword">return</span> <span class="number">-3</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	newnode-&gt;next = p-&gt;next;</span><br><span class="line">	newnode-&gt;prev = p;</span><br><span class="line">	newnode-&gt;next-&gt;prev = newnode;</span><br><span class="line">	newnode-&gt;prev-&gt;next = newnode;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *handler, llist_op op)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;head.next;cur!=&amp;handler-&gt;head;cur=cur-&gt;next)</span><br><span class="line">		op(cur-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *handler)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;head.next;cur!=&amp;handler-&gt;head;cur=handler-&gt;head.next)</span><br><span class="line">	&#123;</span><br><span class="line">		cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">		cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">		<span class="built_in">free</span>(cur-&gt;data);</span><br><span class="line">		<span class="built_in">free</span>(cur);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">free</span>(handler);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *_<span class="title">find</span>(<span class="title">LLIST</span> *<span class="title">handler</span>, <span class="title">const</span> <span class="title">void</span> *<span class="title">find_data</span>, <span class="title">llist_cmp</span> <span class="title">cmp</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;head.next;cur!=&amp;handler-&gt;head;cur=cur-&gt;next)</span><br><span class="line">		<span class="keyword">if</span>(cmp(cur-&gt;data, find_data))</span><br><span class="line">			<span class="keyword">return</span> cur;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> *<span class="title function_">llist_find</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data, llist_cmp cmp)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = _find(handler, find_data, cmp);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">return</span> cur-&gt;data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data, llist_cmp cmp)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = _find(handler, find_data, cmp);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	<span class="comment">///////cur指针已经指向要删除的结点</span></span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	<span class="built_in">free</span>(cur-&gt;data);</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data, llist_cmp cmp, <span class="type">void</span> *save)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = _find(handler,find_data,cmp);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	</span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	<span class="built_in">memcpy</span>(save, cur-&gt;data, handler-&gt;size);</span><br><span class="line">	<span class="built_in">free</span>(cur-&gt;data);</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="makefile"><a href="#makefile" class="headerlink" title="makefile"></a>makefile</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">llist : main.o llist.o</span><br><span class="line">	gcc -o $@ $^</span><br><span class="line">clean :</span><br><span class="line">	rm -rf *.o llist</span><br></pre></td></tr></table></figure>
</code></pre>
<h1 id="可变长的通用性强的链表"><a href="#可变长的通用性强的链表" class="headerlink" title="可变长的通用性强的链表"></a>可变长的通用性强的链表</h1><pre><code>=================================
</code></pre>
<h2 id="可变长的结构体"><a href="#可变长的结构体" class="headerlink" title="可变长的结构体"></a>可变长的结构体</h2><pre><code>        需要把可变长的因子放到结构体定义的最后
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">aaa</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">void</span> *data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">aaa</span> *<span class="title">prev</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">aaa</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">bbb</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">bbb</span> *<span class="title">prev</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">bbb</span> *<span class="title">next</span>;</span></span><br><span class="line">	<span class="type">char</span> data[<span class="number">0</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">bbb</span> *<span class="title">newnode</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;sizeof(struct aaa) = %ld\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> aaa));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;sizeof(struct bbb) = %ld\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> bbb));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//newnode = malloc(sizeof(struct bbb));//开辟16byte空间</span></span><br><span class="line">	newnode = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> bbb) + <span class="number">40</span>);<span class="comment">//开辟56byte空间</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

=================================
</code></pre>
<h2 id="main-c-1"><a href="#main-c-1" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NAMESIZE 20<span class="comment">//字符数组的成员个数</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span>//客户自己创建的数据结构体</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span> name[NAMESIZE];</span><br><span class="line">	<span class="type">int</span> math;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	<span class="type">int</span> tel;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *data)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> data;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d	%s	%d	%d	%d\n&quot;</span>,p-&gt;id,p-&gt;name,p-&gt;math,p-&gt;age, p-&gt;tel);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">id_cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *data, <span class="type">const</span> <span class="type">void</span> *key)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> data;</span><br><span class="line">	<span class="type">const</span> <span class="type">int</span> *k = key;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> !(p-&gt;id - *k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">name_cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *data, <span class="type">const</span> <span class="type">void</span> *key)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> data;</span><br><span class="line">	<span class="type">const</span> <span class="type">char</span> *k = key;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> !(<span class="built_in">strcmp</span>(p-&gt;name, k));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">tel_cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *data, <span class="type">const</span> <span class="type">void</span> *key)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> data;</span><br><span class="line">	<span class="type">const</span> <span class="type">int</span> *k = key;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> !(p-&gt;tel - *k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *handler = <span class="literal">NULL</span>;<span class="comment">//handler指针指向头结点</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">data</span>;</span><span class="comment">//存放客户自己的数据</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">save</span>;</span><span class="comment">//存储拿出的数据</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">find</span> =</span> <span class="literal">NULL</span>;<span class="comment">//指向找到的数据</span></span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//循环变量</span></span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;<span class="comment">//接收返回值</span></span><br><span class="line">	<span class="type">int</span> find_id = <span class="number">100</span>;</span><br><span class="line">	<span class="type">int</span> find_tel = <span class="number">10002</span>;</span><br><span class="line">	<span class="type">char</span> *find_name = <span class="string">&quot;stu4&quot;</span>;</span><br><span class="line"></span><br><span class="line">	handler = llist_create(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> stu));</span><br><span class="line">	<span class="comment">//创建头结点</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断头结点是否创建失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//创建失败,结束程序,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		data.id = <span class="number">100</span> + i;<span class="comment">//存储数据</span></span><br><span class="line">		<span class="built_in">sprintf</span>(data.name, <span class="string">&quot;stu%d&quot;</span>, i);<span class="comment">//存储数据</span></span><br><span class="line">		data.math = <span class="number">100</span> - i;<span class="comment">//存储数据</span></span><br><span class="line">		data.age = <span class="number">20</span> + i;<span class="comment">//存储数据</span></span><br><span class="line">		data.tel = <span class="number">10000</span> + i;<span class="comment">//存储数据</span></span><br><span class="line">		llist_insert(handler,&amp;data,TAILINSERT);<span class="comment">//插入数据</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	llist_display(handler, print);<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;============================\n&quot;</span>);</span><br><span class="line"><span class="comment">/*	</span></span><br><span class="line"><span class="comment">	find = llist_find(handler, &amp;find_tel, tel_cmp);//查找</span></span><br><span class="line"><span class="comment">	if(find == NULL)//判断是否没有找到</span></span><br><span class="line"><span class="comment">		printf(&quot;Not Find It!\n&quot;);</span></span><br><span class="line"><span class="comment">	else</span></span><br><span class="line"><span class="comment">	&#123;</span></span><br><span class="line"><span class="comment">		printf(&quot;Find It!\n&quot;);</span></span><br><span class="line"><span class="comment">		print(find);</span></span><br><span class="line"><span class="comment">	&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line">	ret = llist_delete(handler, &amp;find_tel, tel_cmp);</span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It!\n&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	ret = llist_fetch(handler, &amp;find_tel, tel_cmp, &amp;save);</span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It!\n&quot;</span>);</span><br><span class="line">		print(&amp;save);</span><br><span class="line">	&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;============================\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	llist_display(handler, print);<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">	llist_destroy(handler);<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-h-1"><a href="#llist-h-1" class="headerlink" title="llist.h"></a>llist.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LLIST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LLIST_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HEADINSERT 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TAILINSERT 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="title function_">void</span> <span class="params">(*llist_op)</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//定义函数指针类型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="title function_">int</span> <span class="params">(*llist_cmp)</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *,<span class="type">const</span> <span class="type">void</span> *)</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span>//数据结点的结构体(可变长的结构体)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">prev</span>;</span><span class="comment">//prev指针指向前驱</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">next</span>;</span><span class="comment">//next指针指向后继</span></span><br><span class="line">	<span class="type">char</span> data[<span class="number">0</span>];<span class="comment">//可变长的因子</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">llist_head</span>//头结点的结构体</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> size;<span class="comment">//保存客户创建的结构体的大小</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> <span class="title">head</span>;</span><span class="comment">//</span></span><br><span class="line">&#125;LLIST;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">(<span class="type">int</span> )</span>;<span class="comment">//创建头结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, <span class="type">int</span> )</span>;<span class="comment">//插入数据</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *, llist_op)</span>;<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *)</span>;<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> *<span class="title function_">llist_find</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, llist_cmp)</span>;<span class="comment">//查找</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, llist_cmp)</span>;<span class="comment">//删除</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, llist_cmp, <span class="type">void</span> *)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-c-1"><a href="#llist-c-1" class="headerlink" title="llist.c"></a>llist.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">(<span class="type">int</span> size)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *handler = <span class="literal">NULL</span>;<span class="comment">//指向头结点的指针</span></span><br><span class="line"></span><br><span class="line">	handler = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//为头结点开辟空间</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断头结点空间是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;<span class="comment">//开辟失败,结束函数,并且返回NULL</span></span><br><span class="line">	handler-&gt;size = size;<span class="comment">//把客户结构体大小存储起来</span></span><br><span class="line">	handler-&gt;head.prev = &amp;handler-&gt;head;<span class="comment">//前驱指向自己</span></span><br><span class="line">	handler-&gt;head.next = &amp;handler-&gt;head;<span class="comment">//后继指向自己</span></span><br><span class="line">	<span class="keyword">return</span> handler;<span class="comment">//把指向头结点的指针返回</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *handler,<span class="type">const</span> <span class="type">void</span> *data,<span class="type">int</span> mode)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">p</span> =</span> &amp;handler-&gt;head;<span class="comment">//保存头结点地址</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">newnode</span> =</span> <span class="literal">NULL</span>;<span class="comment">//保存新建的数据结点</span></span><br><span class="line"></span><br><span class="line">	newnode = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> llist_node) + handler-&gt;size);<span class="comment">//数据结点</span></span><br><span class="line">	<span class="keyword">if</span>(newnode == <span class="literal">NULL</span>)<span class="comment">//判断数据结点是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//开辟失败,结束函数,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">memcpy</span>(newnode-&gt;data, data, handler-&gt;size);<span class="comment">//拷贝数据</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span>(mode)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">case</span> HEADINSERT : <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> TAILINSERT : p = p-&gt;prev; <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span> : <span class="built_in">free</span>(newnode); <span class="keyword">return</span> <span class="number">-3</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	newnode-&gt;next = p-&gt;next;</span><br><span class="line">	newnode-&gt;prev = p;</span><br><span class="line">	newnode-&gt;next-&gt;prev = newnode;</span><br><span class="line">	newnode-&gt;prev-&gt;next = newnode;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *handler, llist_op op)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;head.next;cur!=&amp;handler-&gt;head;cur=cur-&gt;next)</span><br><span class="line">		op(cur-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *handler)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;head.next;cur!=&amp;handler-&gt;head;cur=handler-&gt;head.next)</span><br><span class="line">	&#123;</span><br><span class="line">		cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">		cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">		<span class="built_in">free</span>(cur);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">free</span>(handler);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *_<span class="title">find</span>(<span class="title">LLIST</span> *<span class="title">handler</span>, <span class="title">const</span> <span class="title">void</span> *<span class="title">find_data</span>, <span class="title">llist_cmp</span> <span class="title">cmp</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;head.next;cur!=&amp;handler-&gt;head;cur=cur-&gt;next)</span><br><span class="line">		<span class="keyword">if</span>(cmp(cur-&gt;data, find_data))</span><br><span class="line">			<span class="keyword">return</span> cur;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> *<span class="title function_">llist_find</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data, llist_cmp cmp)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = _find(handler, find_data, cmp);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">return</span> cur-&gt;data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data, llist_cmp cmp)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = _find(handler, find_data, cmp);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	<span class="comment">///////cur指针已经指向要删除的结点</span></span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data, llist_cmp cmp, <span class="type">void</span> *save)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = _find(handler,find_data,cmp);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	</span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	<span class="built_in">memcpy</span>(save, cur-&gt;data, handler-&gt;size);</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="makefile-1"><a href="#makefile-1" class="headerlink" title="makefile"></a>makefile</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">llist : main.o llist.o</span><br><span class="line">	gcc -o $@ $^</span><br><span class="line">clean :</span><br><span class="line">	rm -rf *.o llist</span><br></pre></td></tr></table></figure>

=================================
</code></pre>
<h1 id="封装通用性强的链表"><a href="#封装通用性强的链表" class="headerlink" title="封装通用性强的链表"></a>封装通用性强的链表</h1><h2 id="main-c-2"><a href="#main-c-2" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NAMESIZE 20<span class="comment">//字符数组的成员个数</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span>//客户自己创建的数据结构体</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span> name[NAMESIZE];</span><br><span class="line">	<span class="type">int</span> math;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	<span class="type">int</span> tel;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *data)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> data;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d	%s	%d	%d	%d\n&quot;</span>,p-&gt;id,p-&gt;name,p-&gt;math,p-&gt;age, p-&gt;tel);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">id_cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *data, <span class="type">const</span> <span class="type">void</span> *key)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> data;</span><br><span class="line">	<span class="type">const</span> <span class="type">int</span> *k = key;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> !(p-&gt;id - *k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">name_cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *data, <span class="type">const</span> <span class="type">void</span> *key)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> data;</span><br><span class="line">	<span class="type">const</span> <span class="type">char</span> *k = key;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> !(<span class="built_in">strcmp</span>(p-&gt;name, k));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">tel_cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *data, <span class="type">const</span> <span class="type">void</span> *key)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> data;</span><br><span class="line">	<span class="type">const</span> <span class="type">int</span> *k = key;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> !(p-&gt;tel - *k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *handler = <span class="literal">NULL</span>;<span class="comment">//handler指针指向头结点</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">data</span>;</span><span class="comment">//存放客户自己的数据</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">save</span>;</span><span class="comment">//存储拿出的数据</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">find</span> =</span> <span class="literal">NULL</span>;<span class="comment">//指向找到的数据</span></span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//循环变量</span></span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;<span class="comment">//接收返回值</span></span><br><span class="line">	<span class="type">int</span> find_id = <span class="number">100</span>;</span><br><span class="line">	<span class="type">int</span> find_tel = <span class="number">10002</span>;</span><br><span class="line">	<span class="type">char</span> *find_name = <span class="string">&quot;stu4&quot;</span>;</span><br><span class="line"></span><br><span class="line">	handler = llist_create(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> stu));</span><br><span class="line">	<span class="comment">//创建头结点</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断头结点是否创建失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//创建失败,结束程序,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		data.id = <span class="number">100</span> + i;<span class="comment">//存储数据</span></span><br><span class="line">		<span class="built_in">sprintf</span>(data.name, <span class="string">&quot;stu%d&quot;</span>, i);<span class="comment">//存储数据</span></span><br><span class="line">		data.math = <span class="number">100</span> - i;<span class="comment">//存储数据</span></span><br><span class="line">		data.age = <span class="number">20</span> + i;<span class="comment">//存储数据</span></span><br><span class="line">		data.tel = <span class="number">10000</span> + i;<span class="comment">//存储数据</span></span><br><span class="line">		llist_insert(handler,&amp;data,TAILINSERT);<span class="comment">//插入数据</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	llist_display(handler, print);<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;============================\n&quot;</span>);</span><br><span class="line"><span class="comment">/*	</span></span><br><span class="line"><span class="comment">	find = llist_find(handler, &amp;find_tel, tel_cmp);//查找</span></span><br><span class="line"><span class="comment">	if(find == NULL)//判断是否没有找到</span></span><br><span class="line"><span class="comment">		printf(&quot;Not Find It!\n&quot;);</span></span><br><span class="line"><span class="comment">	else</span></span><br><span class="line"><span class="comment">	&#123;</span></span><br><span class="line"><span class="comment">		printf(&quot;Find It!\n&quot;);</span></span><br><span class="line"><span class="comment">		print(find);</span></span><br><span class="line"><span class="comment">	&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line">	ret = llist_delete(handler, &amp;find_tel, tel_cmp);</span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It!\n&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	ret = llist_fetch(handler, &amp;find_tel, tel_cmp, &amp;save);</span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It!\n&quot;</span>);</span><br><span class="line">		print(&amp;save);</span><br><span class="line">	&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;============================\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	llist_display(handler, print);<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">	llist_destroy(handler);<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-h-2"><a href="#llist-h-2" class="headerlink" title="llist.h"></a>llist.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LLIST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LLIST_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HEADINSERT 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TAILINSERT 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="title function_">void</span> <span class="params">(*llist_op)</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//定义函数指针类型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="title function_">int</span> <span class="params">(*llist_cmp)</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *,<span class="type">const</span> <span class="type">void</span> *)</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">void</span> LLIST;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">(<span class="type">int</span> )</span>;<span class="comment">//创建头结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, <span class="type">int</span> )</span>;<span class="comment">//插入数据</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *, llist_op)</span>;<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *)</span>;<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> *<span class="title function_">llist_find</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, llist_cmp)</span>;<span class="comment">//查找</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, llist_cmp)</span>;<span class="comment">//删除</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, llist_cmp, <span class="type">void</span> *)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-c-2"><a href="#llist-c-2" class="headerlink" title="llist.c"></a>llist.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span>//数据结点的结构体(可变长的结构体)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">prev</span>;</span><span class="comment">//prev指针指向前驱</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">next</span>;</span><span class="comment">//next指针指向后继</span></span><br><span class="line">	<span class="type">char</span> data[<span class="number">0</span>];<span class="comment">//可变长的因子</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">llist_head</span>//头结点的结构体</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> size;<span class="comment">//保存客户创建的结构体的大小</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> <span class="title">head</span>;</span><span class="comment">//</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">(<span class="type">int</span> size)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_head</span> *<span class="title">handler</span> =</span> <span class="literal">NULL</span>;<span class="comment">//指向头结点的指针</span></span><br><span class="line"></span><br><span class="line">	handler = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//为头结点开辟空间</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断头结点空间是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;<span class="comment">//开辟失败,结束函数,并且返回NULL</span></span><br><span class="line">	handler-&gt;size = size;<span class="comment">//把客户结构体大小存储起来</span></span><br><span class="line">	handler-&gt;head.prev = &amp;handler-&gt;head;<span class="comment">//前驱指向自己</span></span><br><span class="line">	handler-&gt;head.next = &amp;handler-&gt;head;<span class="comment">//后继指向自己</span></span><br><span class="line">	<span class="keyword">return</span> handler;<span class="comment">//把指向头结点的指针返回</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *h,<span class="type">const</span> <span class="type">void</span> *data,<span class="type">int</span> mode)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_head</span> *<span class="title">handler</span> =</span> h;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">p</span> =</span> &amp;handler-&gt;head;<span class="comment">//保存头结点地址</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">newnode</span> =</span> <span class="literal">NULL</span>;<span class="comment">//保存新建的数据结点</span></span><br><span class="line"></span><br><span class="line">	newnode = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> llist_node) + handler-&gt;size);<span class="comment">//数据结点</span></span><br><span class="line">	<span class="keyword">if</span>(newnode == <span class="literal">NULL</span>)<span class="comment">//判断数据结点是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//开辟失败,结束函数,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">memcpy</span>(newnode-&gt;data, data, handler-&gt;size);<span class="comment">//拷贝数据</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span>(mode)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">case</span> HEADINSERT : <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> TAILINSERT : p = p-&gt;prev; <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span> : <span class="built_in">free</span>(newnode); <span class="keyword">return</span> <span class="number">-3</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	newnode-&gt;next = p-&gt;next;</span><br><span class="line">	newnode-&gt;prev = p;</span><br><span class="line">	newnode-&gt;next-&gt;prev = newnode;</span><br><span class="line">	newnode-&gt;prev-&gt;next = newnode;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *h, llist_op op)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_head</span> *<span class="title">handler</span> =</span> h;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;head.next;cur!=&amp;handler-&gt;head;cur=cur-&gt;next)</span><br><span class="line">		op(cur-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *h)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_head</span> *<span class="title">handler</span> =</span> h;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;head.next;cur!=&amp;handler-&gt;head;cur=handler-&gt;head.next)</span><br><span class="line">	&#123;</span><br><span class="line">		cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">		cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">		<span class="built_in">free</span>(cur);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">free</span>(handler);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *_<span class="title">find</span>(<span class="title">LLIST</span> *<span class="title">h</span>, <span class="title">const</span> <span class="title">void</span> *<span class="title">find_data</span>, <span class="title">llist_cmp</span> <span class="title">cmp</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_head</span> *<span class="title">handler</span> =</span> h;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;head.next;cur!=&amp;handler-&gt;head;cur=cur-&gt;next)</span><br><span class="line">		<span class="keyword">if</span>(cmp(cur-&gt;data, find_data))</span><br><span class="line">			<span class="keyword">return</span> cur;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> *<span class="title function_">llist_find</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data, llist_cmp cmp)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = _find(handler, find_data, cmp);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">return</span> cur-&gt;data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data, llist_cmp cmp)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = _find(handler, find_data, cmp);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	<span class="comment">///////cur指针已经指向要删除的结点</span></span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *h, <span class="type">const</span> <span class="type">void</span> *find_data, llist_cmp cmp, <span class="type">void</span> *save)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_head</span> *<span class="title">handler</span> =</span> h;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">cur</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = _find(handler,find_data,cmp);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	</span><br><span class="line">	cur-&gt;next-&gt;prev = cur-&gt;prev;</span><br><span class="line">	cur-&gt;prev-&gt;next = cur-&gt;next;</span><br><span class="line">	<span class="built_in">memcpy</span>(save, cur-&gt;data, handler-&gt;size);</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="makefile-2"><a href="#makefile-2" class="headerlink" title="makefile"></a>makefile</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">llist : main.o llist.o</span><br><span class="line">	gcc -o $@ $^</span><br><span class="line">clean :</span><br><span class="line">	rm -rf *.o llist</span><br></pre></td></tr></table></figure>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://naoemb.github.io/2023/02/16/embsky/04ds/04ds_02day/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="naoemb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="naoemb">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/16/embsky/04ds/04ds_02day/" class="post-title-link" itemprop="url">04ds_02day</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-16 08:03:05" itemprop="dateCreated datePublished" datetime="2023-02-16T08:03:05+08:00">2023-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-09-02 01:53:09" itemprop="dateModified" datetime="2022-09-02T01:53:09+08:00">2022-09-02</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>5.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>2022-8-2<br>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<h1 id="note"><a href="#note" class="headerlink" title="note"></a>note</h1><pre><code>malloc calloc realloc 开辟空间
free 释放空间
malloc(sizeof(int) * 4);

线性存储结构
    顺序表
        数组
            一维数组
            多维数组
    链表
        是一种物理存储单元上非连续\非顺序的存储结构
        链表是由一个一个的结点组成的
        每一个结点是由两部分组成 : 数据域 和 指针域
        数据域 : 是用来存储结点的数据的
        指针域 : 是用来存储下一个结点的地址的

        在操作链表时包括有 : 增 删 改 查一系列的操作

        在描述链表时会用到一些属性
            有头链表/无头链表	有没有头结点的意思
            循环链表/不循环链表	链表是否可以构成环
            单向链表/双向链表	遍历链表方向

        有头单向不循环的链表
--------------------------------------------------------------------------------
    创建一个有头单向不循环的链表
    1.创建头结点		llist_create();
    2.插入数据结点		llist_insert();
        先把新创建出的结点挂到链表上,再改变链表之前的结构
        头插法&#123;11,22,33,44,55&#125;
        把数据结点插入到头结点之后的位置
        头结点-&gt;NULL
        头结点-&gt;11-&gt;NULL
        头结点-&gt;22-&gt;11-&gt;NULL
        头结点-&gt;33-&gt;22-&gt;11-&gt;NULL
        
        尾插法&#123;11,22,33,44,55&#125;
        把数据结点插入到链表最后的位置
        头结点-&gt;NULL
        头结点-&gt;11-&gt;NULL
        头结点-&gt;11-&gt;22-&gt;NULL
        头结点-&gt;11-&gt;22-&gt;33-&gt;NULL
    3.遍历链表			llist_display();
    4.销毁链表			llist_destroy();
        销毁链表或者删除结点时要注意
        单链表再删除时需要一前一后两个指针
    =======================================
    5.查找结点			llist_find();
    6.删除结点			llist_delete();
    7.拿出结点			llist_fetch();

==============================
作业
1.把今天讲过的内容完完整整的复习一遍
2.把有头单向不循环链表再重新的写一遍
3.尝试自己搞定有头单向循环链表
==============================
</code></pre>
<h1 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h1><h2 id="llist-h"><a href="#llist-h" class="headerlink" title="llist.h"></a>llist.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LLIST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LLIST_H</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">MODE</span> &#123;</span>HEADINSERT, TAILINSERT&#125;;<span class="comment">//头插法和尾插法</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NAMESIZE 20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;<span class="comment">//数据域中的数据</span></span><br><span class="line">	<span class="type">char</span> name[NAMESIZE];<span class="comment">//数据域中的数据</span></span><br><span class="line">	<span class="type">int</span> math;<span class="comment">//数据域中的数据</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">next</span>;</span><span class="comment">//指针域(指向下一个结点的指针)</span></span><br><span class="line">&#125;LLIST;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">()</span>;<span class="comment">//创建头结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *,<span class="type">const</span> <span class="type">void</span> *,<span class="type">int</span>)</span>;<span class="comment">//插入数据结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *)</span>;<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *)</span>;<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_find</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//查找结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//删除结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, <span class="type">void</span> *)</span>;<span class="comment">//取出数据</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-c"><a href="#llist-c" class="headerlink" title="llist.c"></a>llist.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *handler = <span class="literal">NULL</span>;<span class="comment">//指向头结点的指针</span></span><br><span class="line"></span><br><span class="line">	handler = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//为头结点开辟空间</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断是否开辟空间失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;<span class="comment">//开辟空间失败,函数结束,并且返回NULL</span></span><br><span class="line">	handler-&gt;next = <span class="literal">NULL</span>;<span class="comment">//让头结点的next指针指向NULL</span></span><br><span class="line">	<span class="keyword">return</span> handler;<span class="comment">//返回头结点的地址</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *handler,<span class="type">const</span> <span class="type">void</span> *data,<span class="type">int</span> mode)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *p = handler;<span class="comment">//通过指针p代替handler做操作</span></span><br><span class="line">	LLIST *newnode = <span class="literal">NULL</span>;<span class="comment">//指向新创建出来的数据结点</span></span><br><span class="line"></span><br><span class="line">	newnode = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//开辟数据结点的空间</span></span><br><span class="line">	<span class="keyword">if</span>(newnode == <span class="literal">NULL</span>)<span class="comment">//判断开辟空间是否失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//开辟失败,结束函数,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">memcpy</span>(newnode, data, <span class="keyword">sizeof</span>(LLIST));</span><br><span class="line">	<span class="comment">//把数据拷贝到数据结点中</span></span><br><span class="line">	<span class="keyword">switch</span>(mode)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">case</span> HEADINSERT : newnode-&gt;next = p-&gt;next; <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> TAILINSERT : <span class="keyword">while</span>(p-&gt;next != <span class="literal">NULL</span>) p = p-&gt;next;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span> : <span class="built_in">free</span>(newnode); <span class="keyword">return</span> <span class="number">-2</span>;</span><br><span class="line">		<span class="comment">//模式选择有误,释放空间,结束程序,并且返回-2</span></span><br><span class="line">	&#125;</span><br><span class="line">	p-&gt;next = newnode;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *handler)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;<span class="comment">//指向每一个数据结点</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur = handler-&gt;next; cur != <span class="literal">NULL</span>; cur = cur-&gt;next)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d	%s	%d\n&quot;</span>, cur-&gt;id,cur-&gt;name,cur-&gt;math);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *handler)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *back = handler;<span class="comment">//指向头结点的指针</span></span><br><span class="line">	LLIST *cur = handler-&gt;next;<span class="comment">//指向第一个数据结点</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(cur != <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		back-&gt;next = cur-&gt;next;<span class="comment">//把要释放的结点从链表中拆除</span></span><br><span class="line">		<span class="built_in">free</span>(cur);<span class="comment">//释放数据结点</span></span><br><span class="line">		cur = back-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">free</span>(back);<span class="comment">//释放头结点</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_find</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;<span class="comment">//循环查找的指针</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur = handler-&gt;next; cur != <span class="literal">NULL</span>; cur = cur-&gt;next)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(cur-&gt;id == *(<span class="type">int</span> *)find_data || </span><br><span class="line">			!<span class="built_in">strcmp</span>(cur-&gt;name, find_data))</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> cur;<span class="comment">//找到要查找的结点,并且返回</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;<span class="comment">//没有找到数据结点,返回NULL</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *back = handler;<span class="comment">//指向要删除的结点的前一个位置</span></span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;<span class="comment">//指向要删除的结点</span></span><br><span class="line"></span><br><span class="line">	cur = llist_find(handler, find_data);<span class="comment">//查找结点</span></span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)<span class="comment">//判断是否没有找到结点</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(back-&gt;next != cur)<span class="comment">//找到要删除结点的前一个位置</span></span><br><span class="line">		back = back-&gt;next;</span><br><span class="line"></span><br><span class="line">	back-&gt;next = cur-&gt;next;<span class="comment">//把要删除结点从链表中拆除</span></span><br><span class="line">	<span class="built_in">free</span>(cur);<span class="comment">//释放删除的结点</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data, <span class="type">void</span> *save)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *back = handler;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	cur = llist_find(handler, find_data);</span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(back-&gt;next != cur)</span><br><span class="line">		back = back-&gt;next;</span><br><span class="line">	</span><br><span class="line">	back-&gt;next = cur-&gt;next;</span><br><span class="line">	<span class="built_in">memcpy</span>(save, cur, <span class="keyword">sizeof</span>(LLIST));</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="main-c"><a href="#main-c" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *handler = <span class="literal">NULL</span>;<span class="comment">//handler指针指向头结点</span></span><br><span class="line">	LLIST *find = <span class="literal">NULL</span>;<span class="comment">//find指针指向将来找到的结点</span></span><br><span class="line">	LLIST data;<span class="comment">//用来存储数据的变量</span></span><br><span class="line">	LLIST save;<span class="comment">//将来保存取出的数据</span></span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//循环变量</span></span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;<span class="comment">//用来接收返回值的变量</span></span><br><span class="line">	<span class="type">int</span> find_id = <span class="number">100</span>;<span class="comment">//要查找的id号</span></span><br><span class="line">	<span class="type">char</span> *find_name = <span class="string">&quot;stu4&quot;</span>;<span class="comment">//要查找的名字</span></span><br><span class="line"></span><br><span class="line">	handler = llist_create();<span class="comment">//创建头结点</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断创建头结点是否失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//创建头结点失败,结束程序,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)<span class="comment">//循环进行插入数据结点</span></span><br><span class="line">	&#123;</span><br><span class="line">		data.id = <span class="number">100</span> + i;<span class="comment">//存储数据</span></span><br><span class="line">		<span class="built_in">sprintf</span>(data.name, <span class="string">&quot;stu%d&quot;</span>, i);<span class="comment">//存储数据</span></span><br><span class="line">		data.math = <span class="number">100</span> - i;<span class="comment">//存储数据</span></span><br><span class="line">		data.next = <span class="literal">NULL</span>;<span class="comment">//让next指针指向空</span></span><br><span class="line">		llist_insert(handler, &amp;data, TAILINSERT);</span><br><span class="line">		<span class="comment">//插入数据结点</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	llist_display(handler);<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;====================\n&quot;</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	find = llist_find(handler, &quot;stu9&quot;);//查找结点</span></span><br><span class="line"><span class="comment">	if(find == NULL)//判断是否没有找到结点</span></span><br><span class="line"><span class="comment">		printf(&quot;Not Find It!\n&quot;);</span></span><br><span class="line"><span class="comment">	else</span></span><br><span class="line"><span class="comment">		printf(&quot;Find It!	%d	%s	%d\n&quot;, find-&gt;id, find-&gt;name, find-&gt;math);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line">	ret = llist_delete(handler, <span class="string">&quot;stu9&quot;</span>);<span class="comment">//删除结点</span></span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)<span class="comment">//判断是否删除失败</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It!\n&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	ret = llist_fetch(handler,<span class="string">&quot;stu9&quot;</span>,&amp;save);<span class="comment">//取出数据</span></span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It!	%d	%s	%d\n&quot;</span>,save.id, save.name, save.math);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;====================\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	llist_display(handler);<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">	llist_destroy(handler);<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="makefile"><a href="#makefile" class="headerlink" title="makefile"></a>makefile</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">llist : main.o llist.o</span><br><span class="line">	gcc -o $@ $^</span><br><span class="line">clean :</span><br><span class="line">	rm -rf *.o llist</span><br></pre></td></tr></table></figure>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://naoemb.github.io/2023/02/16/embsky/04ds/04ds_03day/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="naoemb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="naoemb">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/16/embsky/04ds/04ds_03day/" class="post-title-link" itemprop="url">04ds_03day</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-16 08:03:05" itemprop="dateCreated datePublished" datetime="2023-02-16T08:03:05+08:00">2023-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-09-02 01:53:16" itemprop="dateModified" datetime="2022-09-02T01:53:16+08:00">2022-09-02</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>9.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>2022-8-3<br>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<h1 id="note"><a href="#note" class="headerlink" title="note"></a>note</h1><pre><code>一.不用写调用,只写声明和实现
    实现有头单向不循环链表的
    遍历和销毁

任务(最基本的要求)
    1.大家可以在纸上写出简单的(有头双向循环链表)增删改查
    2.大家可以在电脑上写出通用性强的链表
    3.大家可以使用内核链表(会用)

自己重新写一遍有头单向循环链表的功能
    1.创建头结点		llist_create();
    2.插入数据结点		llist_insert();
        (头插法	尾插法)
    3.遍历链表			llist_display();
    4.销毁链表			llist_destroy();
    -----------------------------------
    5.查找结点			llist_find();
    6.删除结点			llist_delete();
    7.拿出结点			llist_fetch();

==============================
作业
1.把今天讲过的内容完完整整的复习一遍
2.重新写一遍有头单向循环链表的各种功能
3.写一个无头单向不循环的链表
4.完成joseph杀人游戏
==============================
================================================================================
</code></pre>
<h1 id="无头单向不循环的链表"><a href="#无头单向不循环的链表" class="headerlink" title="无头单向不循环的链表"></a>无头单向不循环的链表</h1><pre><code>/*
    实现 无头单向不循环的链表
        无头 : 代表没有头结点
        在无头的链表中所有的结点都是数据结点
    1.插入数据结点		llist_insert();
        由于没有头结点所以直接把新的数据结点插入到链表最后
    2.遍历链表			llist_display();
    3.销毁链表			llist_destroy();
    ------------------------------------
    4.查找结点			llist_find();
    5.删除结点			llist_delete();
    6.拿出结点			llist_fetch();
*/
</code></pre>
<h2 id="main-c"><a href="#main-c" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *l = <span class="literal">NULL</span>;<span class="comment">//l指针指向无头链表的第一个结点</span></span><br><span class="line">	LLIST *find = <span class="literal">NULL</span>;<span class="comment">//指向找到的结点</span></span><br><span class="line">	LLIST save;</span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;<span class="comment">//保存函数的返回值</span></span><br><span class="line">	<span class="type">int</span> find_id = <span class="number">100</span>;</span><br><span class="line">	<span class="type">int</span> num = <span class="number">0</span>;<span class="comment">//客户用来录入结点个数的</span></span><br><span class="line">	<span class="type">char</span> *find_name = <span class="string">&quot;stu9&quot;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Please Insert Node Number : &quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line"></span><br><span class="line">	l = llist_insert(num);<span class="comment">//创建无头链表</span></span><br><span class="line">	<span class="keyword">if</span>(l == <span class="literal">NULL</span>)<span class="comment">//判断是否创建失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//从创建失败,结束程序,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	llist_display(l);<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;==================\n&quot;</span>);</span><br><span class="line"><span class="comment">/*	</span></span><br><span class="line"><span class="comment">	find = llist_find(l, find_name);</span></span><br><span class="line"><span class="comment">	if(find == NULL)</span></span><br><span class="line"><span class="comment">		printf(&quot;Not Find It!\n&quot;);</span></span><br><span class="line"><span class="comment">	else</span></span><br><span class="line"><span class="comment">		printf(&quot;Find It!	%d	%s	%d\n&quot;,find-&gt;id, find-&gt;name, find-&gt;math);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line">	ret = llist_delete(&amp;l, find_name);</span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It!\n&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	ret = llist_fetch(&amp;l, &amp;find_id, &amp;save);</span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It!	%d	%s	%d\n&quot;</span>, save.id, save.name,save.math);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;==================\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	llist_display(l);</span><br><span class="line"></span><br><span class="line">	llist_destroy(l);<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-h"><a href="#llist-h" class="headerlink" title="llist.h"></a>llist.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LLIST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LLIST_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NAMESIZE 20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span> name[NAMESIZE];</span><br><span class="line">	<span class="type">int</span> math;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;LLIST;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_insert</span><span class="params">(<span class="type">int</span>)</span>;<span class="comment">//插入数据结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *)</span>;<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *)</span>;<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_find</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//查找结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST **, <span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//删除结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST **, <span class="type">const</span> <span class="type">void</span> *, <span class="type">void</span> *)</span>;<span class="comment">//拿出结点</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-c"><a href="#llist-c" class="headerlink" title="llist.c"></a>llist.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_insert</span><span class="params">(<span class="type">int</span> num)</span><span class="comment">//插入数据结点</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *l = <span class="literal">NULL</span>;<span class="comment">//指向无头链表的第一个结点</span></span><br><span class="line">	LLIST *p = <span class="literal">NULL</span>;<span class="comment">//辅助l指针</span></span><br><span class="line">	LLIST *newnode = <span class="literal">NULL</span>;<span class="comment">//指向新的结点</span></span><br><span class="line">	LLIST data;<span class="comment">//用来存储数据</span></span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//循环变量</span></span><br><span class="line"></span><br><span class="line">	l = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//为第一个结点开辟空间</span></span><br><span class="line">	<span class="keyword">if</span>(l == <span class="literal">NULL</span>)<span class="comment">//判断是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	data.id = <span class="number">100</span> + i;</span><br><span class="line">	<span class="built_in">sprintf</span>(data.name, <span class="string">&quot;stu%d&quot;</span>, i);</span><br><span class="line">	data.math = <span class="number">100</span> - i;</span><br><span class="line">	data.next = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="built_in">memcpy</span>(l, &amp;data, <span class="keyword">sizeof</span>(LLIST));</span><br><span class="line">	p = l;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; num; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		newnode = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));</span><br><span class="line">		<span class="keyword">if</span>(newnode == <span class="literal">NULL</span>)<span class="comment">//判断是否开辟失败</span></span><br><span class="line">			<span class="keyword">return</span> l;</span><br><span class="line">		data.id = <span class="number">100</span> + i;</span><br><span class="line">		<span class="built_in">sprintf</span>(data.name, <span class="string">&quot;stu%d&quot;</span>, i);</span><br><span class="line">		data.math = <span class="number">100</span> - i;</span><br><span class="line">		data.next = <span class="literal">NULL</span>;</span><br><span class="line">		<span class="built_in">memcpy</span>(newnode, &amp;data, <span class="keyword">sizeof</span>(LLIST));</span><br><span class="line">		p-&gt;next = newnode;</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> l;<span class="comment">//把第一个结点的地址返回</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *l)</span><span class="comment">//遍历链表</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur = l; cur != <span class="literal">NULL</span>; cur = cur-&gt;next)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d	%s	%d\n&quot;</span>,cur-&gt;id,cur-&gt;name,cur-&gt;math);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *l)</span><span class="comment">//销毁链表</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *back = l;</span><br><span class="line">	LLIST *cur = l-&gt;next;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(cur != <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		back-&gt;next = cur-&gt;next;</span><br><span class="line">		<span class="built_in">free</span>(cur);</span><br><span class="line">		cur = back-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">free</span>(back);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_find</span><span class="params">(LLIST *l, <span class="type">const</span> <span class="type">void</span> *find_data)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">for</span>(cur = l; cur != <span class="literal">NULL</span>; cur = cur-&gt;next)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(cur-&gt;id==*(<span class="type">int</span>*)find_data || </span><br><span class="line">			!(<span class="built_in">strcmp</span>(cur-&gt;name, find_data)))</span><br><span class="line">			<span class="keyword">return</span> cur;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST **l, <span class="type">const</span> <span class="type">void</span> *find_data)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *back = *l;<span class="comment">//指向第一个结点</span></span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;<span class="comment">//指向要删除的结点</span></span><br><span class="line"></span><br><span class="line">	cur = llist_find(*l, find_data);<span class="comment">//查找要删除的结点</span></span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)<span class="comment">//判断是否没有找到</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//没有找到,结束函数,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(cur == *l)<span class="comment">//判断要删除的结点是否是第一个结点</span></span><br><span class="line">		(*l) = (*l)-&gt;next;<span class="comment">//把指向改变为下一个结点</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(back-&gt;next != cur)</span><br><span class="line">			back = back-&gt;next;</span><br><span class="line">		back-&gt;next = cur-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST **l, <span class="type">const</span> <span class="type">void</span> *find_data, <span class="type">void</span> *save)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *back = *l;<span class="comment">//指向第一个结点</span></span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;<span class="comment">//指向要删除的结点</span></span><br><span class="line"></span><br><span class="line">	cur = llist_find(*l, find_data);<span class="comment">//查找要删除的结点</span></span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)<span class="comment">//判断是否没有找到</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//没有找到,结束函数,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(cur == *l)<span class="comment">//判断要删除的结点是否是第一个结点</span></span><br><span class="line">		(*l) = (*l)-&gt;next;<span class="comment">//把指向改变为下一个结点</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(back-&gt;next != cur)</span><br><span class="line">			back = back-&gt;next;</span><br><span class="line">		back-&gt;next = cur-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">memcpy</span>(save, cur, <span class="keyword">sizeof</span>(LLIST));</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="makefile"><a href="#makefile" class="headerlink" title="makefile"></a>makefile</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">llist : main.o llist.o</span><br><span class="line">	gcc -o $@ $^</span><br><span class="line">clean :</span><br><span class="line">	rm -rf *.o llist</span><br></pre></td></tr></table></figure>

================================================================================
</code></pre>
<h1 id="需要实现有头单向循环链表"><a href="#需要实现有头单向循环链表" class="headerlink" title="需要实现有头单向循环链表"></a>需要实现有头单向循环链表</h1><pre><code>/*
    需要实现有头单向循环链表
    1.创建头结点		llist_create();
    2.插入数据结点		llist_insert();
        头插法	尾插法
    3.遍历链表			llist_display();
    4.销毁链表			llist_destroy();
    ===================================
    5.查找结点			llist_find();
    6.删除结点			llist_delete();
    7.拿出数据			llist_fetch();
*/
</code></pre>
<h2 id="main-c-1"><a href="#main-c-1" class="headerlink" title="main.c"></a>main.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *handler = <span class="literal">NULL</span>;<span class="comment">//指向头结点的指针</span></span><br><span class="line">	LLIST *find = <span class="literal">NULL</span>;<span class="comment">//指向找到的结点</span></span><br><span class="line">	LLIST data;<span class="comment">//用来存储用户的数据</span></span><br><span class="line">	LLIST save;<span class="comment">//保存拿出的数据</span></span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;<span class="comment">//循环变量</span></span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;<span class="comment">//用于接收返回值</span></span><br><span class="line">	<span class="type">int</span> find_id = <span class="number">100</span>;<span class="comment">//要查找的ID号</span></span><br><span class="line">	<span class="type">char</span> *find_name = <span class="string">&quot;stu4&quot;</span>;<span class="comment">//要查找的姓名</span></span><br><span class="line"></span><br><span class="line">	handler = llist_create();<span class="comment">//创建头结点</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断是否创建头结点失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//头结点创建失败,结束程序,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		data.id = <span class="number">100</span> + i;<span class="comment">//赋值数据</span></span><br><span class="line">		<span class="built_in">sprintf</span>(data.name, <span class="string">&quot;stu%d&quot;</span>, i);<span class="comment">//赋值数据</span></span><br><span class="line">		data.math = <span class="number">100</span> - i;<span class="comment">//赋值数据</span></span><br><span class="line">		data.next = <span class="literal">NULL</span>;<span class="comment">//指针指向NULL</span></span><br><span class="line">		llist_insert(handler,&amp;data,TAILINSERT);<span class="comment">//插入数据</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	llist_display(handler);<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;=========================\n&quot;</span>);</span><br><span class="line"><span class="comment">/*	</span></span><br><span class="line"><span class="comment">	find = llist_find(handler, &quot;stu9&quot;);//查找结点</span></span><br><span class="line"><span class="comment">	if(find == NULL)//判断是否没有找到结点</span></span><br><span class="line"><span class="comment">		printf(&quot;Not Find It!\n&quot;);</span></span><br><span class="line"><span class="comment">	else</span></span><br><span class="line"><span class="comment">		printf(&quot;Find It!	%d	%s	%d\n&quot;, find-&gt;id, find-&gt;name, find-&gt;math);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line">	ret = llist_delete(handler, <span class="string">&quot;stu9&quot;</span>);<span class="comment">//删除结点</span></span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)<span class="comment">//判断是否删除失败</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Delete It!\n&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	ret = llist_fetch(handler,find_name, &amp;save);<span class="comment">//拿出数据</span></span><br><span class="line">	<span class="keyword">if</span>(ret != <span class="number">0</span>)<span class="comment">//判断是否拿出失败</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It Is Failed!\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Fetch It!	%d	%s	%d\n&quot;</span>,save.id, save.name, save.math);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;=========================\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	llist_display(handler);<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">	llist_destroy(handler);<span class="comment">//释放链表</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-h-1"><a href="#llist-h-1" class="headerlink" title="llist.h"></a>llist.h</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LLIST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LLIST_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HEADINSERT 0<span class="comment">//头插法</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TAILINSERT 1<span class="comment">//尾插法</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NAMESIZE 20<span class="comment">//名字成员个数</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span>//定义了每个结点的结构体类型</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span> name[NAMESIZE];</span><br><span class="line">	<span class="type">int</span> math;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">llist_node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;LLIST;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">()</span>;<span class="comment">//创建头结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, <span class="type">int</span> )</span>;<span class="comment">//插入数据</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *)</span>;<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *)</span>;<span class="comment">//销毁链表</span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_find</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//查找结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *)</span>;<span class="comment">//删除结点</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *, <span class="type">const</span> <span class="type">void</span> *, <span class="type">void</span> *)</span>;<span class="comment">//拿出数据</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="llist-c-1"><a href="#llist-c-1" class="headerlink" title="llist.c"></a>llist.c</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;llist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_create</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *handler = <span class="literal">NULL</span>;<span class="comment">//指向头结点的指针</span></span><br><span class="line"></span><br><span class="line">	handler = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//开辟头结点的空间</span></span><br><span class="line">	<span class="keyword">if</span>(handler == <span class="literal">NULL</span>)<span class="comment">//判断是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;<span class="comment">//开辟失败,结束函数,并且返回NULL</span></span><br><span class="line">	handler-&gt;next = handler;<span class="comment">//头结点的next指针指向自己</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> handler;<span class="comment">//把头结点的地址返回</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_insert</span><span class="params">(LLIST *handler,<span class="type">const</span> <span class="type">void</span> *data,<span class="type">int</span> mode)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *p = handler;<span class="comment">//通过指针p代替handler做操作</span></span><br><span class="line">	LLIST *newnode = <span class="literal">NULL</span>;<span class="comment">//指向新创建的结点</span></span><br><span class="line"></span><br><span class="line">	newnode = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LLIST));<span class="comment">//开辟数据结点的空间</span></span><br><span class="line">	<span class="keyword">if</span>(newnode == <span class="literal">NULL</span>)<span class="comment">//判断数据结点的空间是否开辟失败</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//数据结点的空间开辟失败,函数结束,返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">memcpy</span>(newnode, data, <span class="keyword">sizeof</span>(LLIST));<span class="comment">//拷贝数据</span></span><br><span class="line">	<span class="keyword">switch</span>(mode)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">case</span> HEADINSERT : <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> TAILINSERT : <span class="keyword">while</span>(p-&gt;next != handler)</span><br><span class="line">							p = p-&gt;next;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span> : <span class="built_in">free</span>(newnode); <span class="keyword">return</span> <span class="number">-2</span>;</span><br><span class="line">				  <span class="comment">//释放空间,结束函数,并且返回-2</span></span><br><span class="line">	&#125;</span><br><span class="line">	newnode-&gt;next = p-&gt;next;</span><br><span class="line">	p-&gt;next = newnode;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_display</span><span class="params">(LLIST *handler)</span><span class="comment">//遍历链表</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;<span class="comment">//指向每一个数据结点</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;next; cur!=handler; cur=cur-&gt;next)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d	%s	%d\n&quot;</span>,cur-&gt;id,cur-&gt;name,cur-&gt;math);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">llist_destroy</span><span class="params">(LLIST *handler)</span><span class="comment">//销毁链表</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *back = handler;<span class="comment">//指向头结点的指针</span></span><br><span class="line">	LLIST *cur = handler-&gt;next;<span class="comment">//指向数据结点的指针</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(cur != handler)</span><br><span class="line">	&#123;</span><br><span class="line">		back-&gt;next = cur-&gt;next;</span><br><span class="line">		<span class="built_in">free</span>(cur);</span><br><span class="line">		cur = back-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LLIST *<span class="title function_">llist_find</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;<span class="comment">//指向每一个数据结点</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(cur=handler-&gt;next;cur!=handler;cur=cur-&gt;next)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(cur-&gt;id==*(<span class="type">int</span>*)find_data || </span><br><span class="line">			!(<span class="built_in">strcmp</span>(cur-&gt;name, find_data)))</span><br><span class="line">			<span class="keyword">return</span> cur;<span class="comment">//找到了结点,并且返回</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;<span class="comment">//没有找到结点,返回NULL</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_delete</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *back = handler;<span class="comment">//指向头结点的指针</span></span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;<span class="comment">//指向要删除的结点的指针</span></span><br><span class="line"></span><br><span class="line">	cur = llist_find(handler, find_data);<span class="comment">//查找删除的结点</span></span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)<span class="comment">//判断是否没有找到</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//删除失败,函数结束,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(back-&gt;next != cur)<span class="comment">//查找要删除结点的前一个位置</span></span><br><span class="line">		back = back-&gt;next;</span><br><span class="line"></span><br><span class="line">	back-&gt;next = cur-&gt;next;<span class="comment">//把删除的结点从链表中摘除</span></span><br><span class="line">	<span class="built_in">free</span>(cur);<span class="comment">//释放要删除的结点</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">llist_fetch</span><span class="params">(LLIST *handler, <span class="type">const</span> <span class="type">void</span> *find_data, <span class="type">void</span> *save)</span></span><br><span class="line">&#123;</span><br><span class="line">	LLIST *back = handler;<span class="comment">//指向头结点的指针</span></span><br><span class="line">	LLIST *cur = <span class="literal">NULL</span>;<span class="comment">//指向要删除的结点的指针</span></span><br><span class="line"></span><br><span class="line">	cur = llist_find(handler, find_data);<span class="comment">//查找删除的结点</span></span><br><span class="line">	<span class="keyword">if</span>(cur == <span class="literal">NULL</span>)<span class="comment">//判断是否没有找到</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//删除失败,函数结束,并且返回-1</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(back-&gt;next != cur)<span class="comment">//查找要删除结点的前一个位置</span></span><br><span class="line">		back = back-&gt;next;</span><br><span class="line"></span><br><span class="line">	back-&gt;next = cur-&gt;next;<span class="comment">//把删除的结点从链表中摘除</span></span><br><span class="line">	<span class="built_in">memcpy</span>(save, cur, <span class="keyword">sizeof</span>(LLIST));<span class="comment">//把数据拿出</span></span><br><span class="line">	<span class="built_in">free</span>(cur);<span class="comment">//释放要删除的结点</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="makefile-1"><a href="#makefile-1" class="headerlink" title="makefile"></a>makefile</h2><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">llist : main.o llist.o</span><br><span class="line">	gcc -o $@ $^</span><br><span class="line">clean :</span><br><span class="line">	rm -rf *.o llist</span><br></pre></td></tr></table></figure>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://naoemb.github.io/2023/02/16/embsky/04ds/04ds_01day/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="naoemb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="naoemb">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/16/embsky/04ds/04ds_01day/" class="post-title-link" itemprop="url">04ds_01day</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-16 08:03:05" itemprop="dateCreated datePublished" datetime="2023-02-16T08:03:05+08:00">2023-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-09-02 01:53:01" itemprop="dateModified" datetime="2022-09-02T01:53:01+08:00">2022-09-02</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>7.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>2022-8-1<br>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<h1 id="一-温故知新"><a href="#一-温故知新" class="headerlink" title="一.温故知新"></a>一.温故知新</h1><pre><code>    复合型数据类型
        结构体
        1.先定义结构体类型
            struct tag
            &#123;
                //结构体成语的定义
            &#125;;
        2.再使用结构体类型定义结构体类型的变量\指针\数组
            数据类型		变量名	;
            struct tag		s		;
            struct tag *	p		;
            struct tag		arr	[成员个数]	;
        3.结构体类型的变量访问结构体的成员
            变量名 + . + 成员名
        结构体类型的指针访问结构体的成员
            指针名 + -&gt; + 成员名
        4.通过sizeof运算符结算结构体大小
            结构体的大小相当于成员大小的和 + 字节对齐
        共用体
            共用体中的成员会共用同一块儿存储空间
            (使用一块儿存储空间管理不同类型的数据)
            1.先定义共用体类型
            union tag
            &#123;
                共用体成员的定义;
            &#125;;
            2.大端格式和小端格式
            大端格式
            高字节的数据存放在低地址上
            低字节的数据存放在高地址上
            小端格式
            高字节的数据存放在高地址上
            低字节的数据存放在低地址上
            3.位域(位段/位字段)
            是编程语言(C语言)提供的操作位的方法
            -----------------------------------
            位带(bitband)

共用体(联合)
union是C语言中的关键字
1.共用体的含义
    共用体的成员共用同一块儿存储空间
    (使用一块儿存储空间管理不同的数据类型)
2.共用体的定义
    union tag				//tag是标签
    &#123;
        共用体成员的定义;
    &#125;;						//最后需要加 ; 结尾
3.和结构体不同的地方
    1&gt;结构体中每个成员都会占用独立的存储空间
    共用体中每个成员都会占用相同的存储空间
    2&gt;结构体的大小是每个成员大小的和的基础上加入字节对齐
    共用体的大小以共用体成员中最大的成员大小为准
4.大端格式和小端格式
    在硬件的平台中是分为大端格式和小端格式的
    X86/英特尔架构		小端格式
    高字节的数据存放在高地址上,低字节的数据存放在低地址上
    (高对高,低对低)
    例子 : 在小端格式上存储一个十六进制的数据0x12345678
    地址		数据
    0x1000		0x78
    0x1001		0x56
    0x1002		0x34
    0x1003		0x12
    ARM架构-&gt;ARM系列大端格式(现在既支持大端也支持小端)
    高字节的数据存放在低地址上,低字节的数据存放在高地址上
    (高对低,低对高)
    例子 : 在大端格式上存储一个十六进制的数据0x12345678
    地址		数据
    0x1000		0x12
    0x1001		0x34
    0x1002		0x56
    0x1003		0x78
可以使用共用体测试当前的机器是大端格式还是小端格式

=========================
笔试题
1.什么是大端格式?什么是小端格式?
2.设计一个程序测试当前的机器是大端格式还是小端格式
=========================
</code></pre>
<h1 id="预处理"><a href="#预处理" class="headerlink" title="预处理"></a>预处理</h1><pre><code>预处理
    条件编译
#ifndef	__ADD_H
#define __ADD_H
除了在.h文件中加入,防止头文件被重复包含以外
在.c文件中也可以使用

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Hello World!\n&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;你好,中国!\n&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SUB</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">13</span>, b = <span class="number">7</span>;</span><br><span class="line">	<span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> ADD</span></span><br><span class="line">	sum = a + b;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	sum = a - b;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;sum = %d\n&quot;</span>, sum);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STM32F103CBT6</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> PIN = <span class="number">0</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> defined (STM32F103RBT6)</span></span><br><span class="line">	PIN = <span class="number">64</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> defined (STM32F103CBT6)</span></span><br><span class="line">	PIN = <span class="number">32</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;PIN = %d\n&quot;</span>, PIN);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> FLAG 2</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">13</span>, b = <span class="number">7</span>;</span><br><span class="line">	<span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> FLAG==0</span></span><br><span class="line">	sum = a + b;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> FLAG==1</span></span><br><span class="line">	sum = a - b;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> FLAG==2</span></span><br><span class="line">	sum = a * b;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> FLAG==3</span></span><br><span class="line">	sum = a / b;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	sum = a % b;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;sum = %d\n&quot;</span>, sum);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PAI 3.14</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;PAI = %f\n&quot;</span>, PAI);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ARRSIZE 10</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> arr[ARRSIZE];</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; ARRSIZE; i++)</span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    面试题
    1.定义一个宏,计算一年(平年)有多少秒
    
    2.定义一个宏,比较两个值的最大值

    3.定义一个宏,完成两个变量值的交换

    注意 : 在写宏函数的时候一定要加小括号,代表是一个整体

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SEC_OF_YEAR (365*24*60*60)</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;SEC_OF_YEAR = %d\n&quot;</span>, SEC_OF_YEAR);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MUL(A,B) (A)*(B)</span></span><br><span class="line"><span class="comment">//MUL(A,B)		A*B</span></span><br><span class="line"><span class="comment">//MUL(2+3,3+4)	2+3*3+4 = 15</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">mul</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">13</span>, b = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;MUL = %d\n&quot;</span>, MUL(<span class="number">2</span>+<span class="number">3</span>, <span class="number">3</span>+<span class="number">4</span>));<span class="comment">//a+b</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;mul = %d\n&quot;</span>, mul(<span class="number">2</span>+<span class="number">3</span>, <span class="number">3</span>+<span class="number">4</span>));<span class="comment">//a+b</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX(A,B) A&gt;B?A:B</span></span><br><span class="line"><span class="comment">//a++ &gt; b++ ? a++ : b ++</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">max</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">13</span>, b = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;MAX = %d\n&quot;</span>, MAX(a++, b++));</span><br><span class="line">	a = <span class="number">13</span>;</span><br><span class="line">	b = <span class="number">7</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;max = %d\n&quot;</span>, max(a++, b++));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//#define SWAP(A,B) &#123;typeof(A)tmp; tmp=A; A=B; B=tmp;&#125;</span></span><br><span class="line"><span class="comment">//#define SWAP(A,B) &#123;(A)=(A)+(B);(B)=(A)-(B);(A)=(A)-(B);&#125;</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SWAP(A,B) &#123;(A)^=(B);(B)^=(A);(A)^=(B);&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">13</span>, b = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d b = %d\n&quot;</span>, a, b);</span><br><span class="line">	SWAP(a,b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d b = %d\n&quot;</span>, a, b);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;__DATE__ = %s\n&quot;</span>, __DATE__);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;__TIME__ = %s\n&quot;</span>, __TIME__);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;__FILE__ = %s\n&quot;</span>, __FILE__);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;__LINE__ = %d\n&quot;</span>, __LINE__);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;__FUNCTION__ = %s\n&quot;</span>, __FUNCTION__);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">3</span>, b = <span class="number">4</span>, c = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>((a + b &gt; c) &amp;&amp; \</span><br><span class="line">		(a + c &gt; b) &amp;&amp; \</span><br><span class="line">		(b + c &gt; a))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;可以构成三角形!\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PRINT_STR(n) #n</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;PRINT_STR = %s\n&quot;</span>, PRINT_STR(<span class="number">12</span>+<span class="number">34</span>));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INT_VAR(n) var##n</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> var1 = <span class="number">100</span>;</span><br><span class="line">	<span class="type">int</span> var2 = <span class="number">200</span>;</span><br><span class="line">	<span class="type">int</span> var3 = <span class="number">300</span>;</span><br><span class="line">	<span class="type">int</span> var4 = <span class="number">400</span>;</span><br><span class="line">	<span class="type">int</span> var5 = <span class="number">500</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;VAR = %d\n&quot;</span>, INT_VAR(<span class="number">2</span>));<span class="comment">//var2</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;VAR = %d\n&quot;</span>, INT_VAR(<span class="number">5</span>));<span class="comment">//var5</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
枚举
enum是C语言的关键字
枚举就是一个被命名的整型常数的集合
enum 枚举名
&#123;
    标识符[=整型常数],
    标识符,
    ...
    标识符
&#125;;			//枚举定义之后需要加 ; 结尾
注意:
1.在定义枚举时.标识符与标识符之间要用 , 隔开而不是 ; 
2.在枚举中标识符可以和变量同名,如果同名变量会屏蔽标识符
    (尽量不要同名)
3.在定义枚举时,方括号的内容时缺省值,可以有也可以没有
    如果没有缺省值,标识符会按照0 1 2 3 4...的顺序进行表示
    如果有缺省值,则会从指定的整型常数开始按顺序进行表示

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">E</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	a,</span><br><span class="line">	b,</span><br><span class="line">	c,</span><br><span class="line">	d</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;b = %d\n&quot;</span>, b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;c = %d\n&quot;</span>, c);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;d = %d\n&quot;</span>, d);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//a = 9527;枚举的标识符不是变量,不能做赋值运算</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">E</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	a,</span><br><span class="line">	b,</span><br><span class="line">	c,</span><br><span class="line">	d</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">9527</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;b = %d\n&quot;</span>, b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;c = %d\n&quot;</span>, c);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;d = %d\n&quot;</span>, d);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//a = 9527;枚举的标识符不是变量,不能做赋值运算</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">E</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	a,</span><br><span class="line">	b = <span class="number">100</span>,</span><br><span class="line">	c,</span><br><span class="line">	d</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//int a = 9527;</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;b = %d\n&quot;</span>, b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;c = %d\n&quot;</span>, c);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;d = %d\n&quot;</span>, d);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//a = 9527;枚举的标识符不是变量,不能做赋值运算</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">E</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	a,</span><br><span class="line">	b = <span class="number">100</span>,</span><br><span class="line">	c,</span><br><span class="line">	d</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//int a = 9527;</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;b = %d\n&quot;</span>, b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;c = %d\n&quot;</span>, c);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;d = %d\n&quot;</span>, d);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//a = 9527;枚举的标识符不是变量,不能做赋值运算</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">E</span>&#123;</span>MODE_0, MODE_1, MODE_2, MODE_3&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> mode = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;mode);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span>(mode)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">case</span> MODE_0 : <span class="built_in">printf</span>(<span class="string">&quot;菜鸟难度!\n&quot;</span>); <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> MODE_1 : <span class="built_in">printf</span>(<span class="string">&quot;普通难度!\n&quot;</span>); <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> MODE_2 : <span class="built_in">printf</span>(<span class="string">&quot;地狱难度!\n&quot;</span>); <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> MODE_3 : <span class="built_in">printf</span>(<span class="string">&quot;中国男足难度!\n&quot;</span>); <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">GPIO</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA0 : <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA1 : <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA2 : <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA3 : <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA4 : <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA5 : <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA6 : <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA7 : <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA8 : <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA9 : <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA10: <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA11: <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA12: <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA13: <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA14: <span class="number">2</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> PA15: <span class="number">2</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">mode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	INPUT,</span><br><span class="line">	OUTPUT,</span><br><span class="line">	AF,</span><br><span class="line">	AN</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">GPIO</span> <span class="title">P</span>;</span></span><br><span class="line"></span><br><span class="line">	P.PA0 = OUTPUT;</span><br><span class="line"></span><br><span class="line">	P.PA10 = AF;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://naoemb.github.io/2023/02/16/embsky/03c/03c_C%E6%88%AA%E5%9B%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="naoemb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="naoemb">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/16/embsky/03c/03c_C%E6%88%AA%E5%9B%BE/" class="post-title-link" itemprop="url">03c_C截图</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-16 08:03:05" itemprop="dateCreated datePublished" datetime="2023-02-16T08:03:05+08:00">2023-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-09-02 01:52:17" itemprop="dateModified" datetime="2022-09-02T01:52:17+08:00">2022-09-02</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>101</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>1数据类型<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/1%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.png"><br>2ASCII_1<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/2ASCII_1.png"><br>2ASCII_2<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/2ASCII_2.png"><br>2ASCII_3<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/2ASCII_3.png"><br>3转义字符<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/3%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6.bmp"><br>4运算符<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/4%E8%BF%90%E7%AE%97%E7%AC%A6.png"><br>5存储类型比较<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/5%E5%AD%98%E5%82%A8%E7%B1%BB%E5%9E%8B%E6%AF%94%E8%BE%83.png"><br>6标准输出格式字符<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/6%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F%E5%AD%97%E7%AC%A6.bmp"><br>7标准输出修饰符<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/7%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA%E4%BF%AE%E9%A5%B0%E7%AC%A6.bmp"><br>8一维数组元素表示<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/8%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E8%A1%A8%E7%A4%BA.bmp"><br>9二维数组元素表示<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/9%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E8%A1%A8%E7%A4%BA.bmp"><br>10区分定义<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/10%E5%8C%BA%E5%88%86%E5%AE%9A%E4%B9%89.bmp"><br>11函数的实现<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/11%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9E%E7%8E%B0.gif"><br>12运算符优先级<br><img src="/images/03c/C%E6%88%AA%E5%9B%BE/12%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://naoemb.github.io/2023/02/16/embsky/03c/03c_point_and_func/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="naoemb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="naoemb">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/16/embsky/03c/03c_point_and_func/" class="post-title-link" itemprop="url">03c_point_and_func</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-16 08:03:05" itemprop="dateCreated datePublished" datetime="2023-02-16T08:03:05+08:00">2023-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-09-02 01:52:22" itemprop="dateModified" datetime="2022-09-02T01:52:22+08:00">2022-09-02</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>2022-8-1<br>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<h1 id="1-指针"><a href="#1-指针" class="headerlink" title="1.指针"></a>1.指针</h1><h2 id="使用指针的用处"><a href="#使用指针的用处" class="headerlink" title="使用指针的用处"></a>使用指针的用处</h2><pre><code>        程序员通过指针,可以简化一些 C 语言编程任务的执行,还有一些任务,如动态内存分配
        大家都知道每一个变量都在内存中占用相应的存储空间,
动态内存分配的函数	malloc calloc realloc free
编程人员来讲
1.谁打开,谁关闭	文件IO
2.谁开辟,谁释放	动态内存
3.谁创建,谁销毁	链表
4.谁加锁,谁解锁	线程

        每一个内存位置都可以使用连字号（&amp;）运算符访问的地址,它表示了在内存中的一个地址
    什么是指针
        其实指针从某种意义上来讲是一个变量,其值为另一个变量的地址,即内存位置的直接地址.
        就像普通的变量一样,必须在使用指针之前,对其进行定义.
        指针的定义一般形式为:type *pointer-name;
        无论何种类型的指针在内存中都占用8个字节空间(相对于64bit操作系统而言)
        不同数据类型的指针之间的相同点是都是用来存储地址的.
        不同数据类型的指针之间唯一的不同是,指针所指向的变量的数据类型不同.
</code></pre>
<h2 id="如何使用指针？"><a href="#如何使用指针？" class="headerlink" title="如何使用指针？"></a>如何使用指针？</h2><pre><code>        使用指针时会频繁进行以下几个操作:
int a;
        定义一个指针变量					int *p;
        把变量地址赋值给指针				p = &amp;a;
        访问指针变量中可用地址的值			printf(“p = %p\n”, p);
        这些操作是需要通过使用运算符 * 来访问的
</code></pre>
<h3 id="指向NULL的指针-空指针-int-p-x3D-NULL-x2F-x2F-NULL-ASCII-0-0x0"><a href="#指向NULL的指针-空指针-int-p-x3D-NULL-x2F-x2F-NULL-ASCII-0-0x0" class="headerlink" title="指向NULL的指针(空指针)		int *p &#x3D; NULL;&#x2F;&#x2F;NULL ASCII 0 0x0"></a>指向NULL的指针(空指针)		int *p &#x3D; NULL;&#x2F;&#x2F;NULL ASCII 0 0x0</h3><pre><code>        在指针初始化的时候,如果没有确切的地址可以赋值,为指针赋一个 NULL 值
        是一个良好的编程习惯.赋为 NULL 值的指针被称为空指针.
        在写C语言程序时不允许访问地址为 NULL 的内存,因为该内存是操作系统保留的
        然而,内存地址 NULL 有特别重要的意义,它表明该指针不指向一个可操作的内存位置.
int a;
int *p = NULL;
p = &amp;a;
*p = 100;
程序编译时不会报错报警告,但是程序执行时会报段错误(编译器不检查段错误)
if(p == NULL)
printf(“p是一个空指针!\n”);
</code></pre>
<h3 id="野指针-没有对象"><a href="#野指针-没有对象" class="headerlink" title="野指针(没有对象)"></a>野指针(没有对象)</h3><pre><code>        野指针指向一个已删除的对象或申请访问受限内存区域的指针.
        与空指针不同,野指针无法通过简单地判断是否为 NULL 避免,
        而只能通过养成良好的编程习惯来尽力减少.
        对野指针进行操作很容易造成程序错误.
        程序编译时不会报错报警告,程序执行时也不会报段错误
        int *p = NULL;
        p = malloc(sizeof(int));
        使用
        free(p);
        p = NULL;//可以先把野指针变成空指针,然后可以避免程序执行时不会报错
</code></pre>
<h3 id="万能指针"><a href="#万能指针" class="headerlink" title="万能指针"></a>万能指针</h3><pre><code>    可以保存任意类型的地址
</code></pre>
<h1 id="2-函数"><a href="#2-函数" class="headerlink" title="2.函数"></a>2.函数</h1><h2 id="什么是函数"><a href="#什么是函数" class="headerlink" title="什么是函数"></a>什么是函数</h2><pre><code>        函数是一组一起执行一个任务的语句.每个 C 程序都至少有一个函数,
        即主函数 main() 所有简单的程序都可以定义其他额外的函数.
        程序员可以把代码划分到不同的函数中.
        如何划分代码到不同的函数中是程序员自己来决定的,但在逻辑上,
        划分通常是根据每个函数执行一个特定的任务来进行的.
        函数声明告诉编译器函数的名称\返回类型和参数.函数定义提供了函数的实际主体。
    
</code></pre>
<h2 id="函数的声明"><a href="#函数的声明" class="headerlink" title="函数的声明"></a>函数的声明</h2><pre><code>        函数声明会告诉编译器函数名称及如何调用函数.
        函数声明包括以下几个部分:
        return_type		function_name	(parameter list)	;//形式参数 形参
        int				max			(int a, int b)		;
int				add				(int a, int b)		;
Void			swap			(int *a, int *b)	;
        在函数声明中,参数的名称并不重要,只有参数的类型是必需的
        int max(int, int);
</code></pre>
<h2 id="函数的实现"><a href="#函数的实现" class="headerlink" title="函数的实现"></a>函数的实现</h2><pre><code>        return_type		function_name	(parameter list)//形式参数 形参
        &#123;
   			body of the function
        &#125;
int				max			(int a, int b)
&#123;
return a &gt; b ? a : b;
&#125;
int				add				(int a, int b)
&#123;
return a + b;
&#125;




void		swap	(int *a, int * b)
&#123;
int c;
c = *a;
*a = *b;
*b = c;
&#125;
</code></pre>
<h2 id="函数的调用"><a href="#函数的调用" class="headerlink" title="函数的调用"></a>函数的调用</h2><pre><code>        当实现函数的功能时,会写出函数要做什么,然后通过调用函数来执行已写好的功能.
        当程序调用函数时,程序控制权会转移给被调用的函数.
        被调用的函数执行函数主体的内容,当函数的返回语句被执行时,
        或到达函数的结束括号时,会把程序控制权交还给主程序.
        调用函数时,传递所需参数,如果函数返回一个值,则可以在调用时用变量来存储返回值.
        function_name	(parameter list);//实际参数 实参
max			(13, 7);
add				(13, 7);		
swap			(&amp;a, &amp;b);
    在 C 语言中,函数由一个函数头和一个函数主体组成.下面列出一个函数的所有组成部分:
        返回类型 : 一个函数可以返回一个值.return_type 是函数返回的值的数据类型.
            有些函数执行所需的操作而不返回值,在这种情况下,return_type 是关键字 void.
        
        函数名称 : 这是函数的实际名称.也是函数的入口
    	
        参数 : 参数就像是占位符.当函数被调用时,程序员需要向参数传递一个值,
            这个值被称为实际参数.参数列表包括函数参数的类型\顺序\数量.
            参数是可选的,也就是说,有些功能函数可能不需要参数.
    	
        函数主体 : 函数主体包含一组定义函数执行任务的语句.
    
    函数参数
        如果函数要使用参数,则必须在函数声明时定义参数变量,这些变量称为函数的形式参数.
        形式参数就像函数内的其他局部变量,在进入函数时被创建,退出函数时被销毁.
    
    当调用函数时,有两种向函数传递参数的方式:
        值传递 : 该方法把参数的实际值复制给函数的形式参数,在这种情况下
                修改函数内的形式参数不会影响实际参数。
swap(a, b)
        地址传递 : 通过指针传递方式,形参为指向实参地址的指针,
                当对形参的指向操作时,就相当于对实参本身进行的操作。
swap(&amp;a, &amp;b)
        如果使用值传递来传递参数,这意味着函数内的代码不能改变用于调用函数的实际参数.
    
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="naoemb"
      src="/images/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
  <p class="site-author-name" itemprop="name">naoemb</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">65</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/hexgio" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hexgio" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hexgio@outlook.com" title="E-Mail → mailto:hexgio@outlook.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/hexgio" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;hexgio" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ynblog.cf/" title="关联博客 → https:&#x2F;&#x2F;ynblog.cf" rel="noopener" target="_blank"><i class=" fa-fw"></i>关联博客</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">naoemb</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">355k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">5:22</span>
</div>




















<span id="sitetime"></span>
<script language=javascript>
	function siteTime(){
		window.setTimeout("siteTime()", 1000);
		var seconds = 1000;
		var minutes = seconds * 60;
		var hours = minutes * 60;
		var days = hours * 24;
		var years = days * 365;
		var today = new Date();
		var todayYear = today.getFullYear();
		var todayMonth = today.getMonth()+1;
		var todayDate = today.getDate();
		var todayHour = today.getHours();
		var todayMinute = today.getMinutes();
		var todaySecond = today.getSeconds();
		/* 
		Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
		year - 作为date对象的年份，为4位年份值
		month - 0-11之间的整数，做为date对象的月份
		day - 1-31之间的整数，做为date对象的天数
		hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
		minutes - 0-59之间的整数，做为date对象的分钟数
		seconds - 0-59之间的整数，做为date对象的秒数
		microseconds - 0-999之间的整数，做为date对象的毫秒数
        */
		var t1 = Date.UTC(2020,02,13,15,00,00); //北京时间2018-2-13 00:00:00
		var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
		var diff = t2-t1;
		var diffYears = Math.floor(diff/years);
		var diffDays = Math.floor((diff/days)-diffYears*365);
		var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
		var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
		var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
		document.getElementById("sitetime").innerHTML=" 已运行"+/*diffYears+" 年 "+*/diffDays+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 "+diffSeconds+" 秒";
	}
	siteTime();
</script>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body>
</html>
